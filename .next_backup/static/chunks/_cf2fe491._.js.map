{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/components/main/Footer.tsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"bg-white text-gray-900 py-5\">\r\n      <div className=\"container mx-auto px-4 md:px-0\">\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-8\">\r\n          {/* Sekolah Kopi Raisa */}\r\n          <div className=\"col-span-2 sm:col-span-2 md:col-span-1\">\r\n            <h3 className=\"font-medium text-lg text-primary\">\r\n              SEKOLAH KOPI RAISA\r\n            </h3>\r\n            <p className=\"text-gray-600 mt-2 text-sm\">\r\n              Races Dua, Rejo Agung, Kec. Sumberwringin, Kabupaten Bondowoso,\r\n              Jawa Timur\r\n            </p>\r\n          </div>\r\n\r\n          {/* Fitur */}\r\n          <div className=\"justify-self-start md:justify-self-center\">\r\n            <h3 className=\"font-medium text-lg text-primary\">FITUR</h3>\r\n            <hr className=\"w-12 border-black my-2\" />\r\n            <ul className=\"text-gray-600 space-y-1 text-sm\">\r\n              <Link href=\"/\">\r\n                <li className=\"hover:underline\">Beranda</li>\r\n              </Link>\r\n              <Link href=\"/about\">\r\n                <li className=\"hover:underline\">Tentang</li>\r\n              </Link>\r\n              <Link href=\"/product\">\r\n                <li className=\"hover:underline\">Produk</li>\r\n              </Link>\r\n              <Link href=\"/activity\">\r\n                <li className=\"hover:underline\">Kegiatan</li>\r\n              </Link>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Media Sosial */}\r\n          <div className=\"justify-self-start md:justify-self-center\">\r\n            <h3 className=\"font-medium text-lg text-primary\">MEDIA SOSIAL</h3>\r\n            <hr className=\"w-12 border-black my-2\" />\r\n            <ul className=\"text-gray-600 space-y-1 text-sm\">\r\n              <Link\r\n                href=\"https://www.instagram.com/sekolahkopiraisa\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <li className=\"hover:underline\">Instagram</li>\r\n              </Link>\r\n              <Link\r\n                href=\"https://www.facebook.com/profile.php?id=61575247085872\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <li className=\"hover:underline\">Facebook</li>\r\n              </Link>\r\n              <Link\r\n                href=\"\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <li className=\"hover:underline\">Website</li>\r\n              </Link>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Hubungi */}\r\n          <div className=\"justify-self-start md:justify-self-center\">\r\n            <h3 className=\"font-medium text-lg text-primary\">HUBUNGI</h3>\r\n            <hr className=\"w-12 border-black my-2\" />\r\n            <Link href=\"https://wa.me/+6285172252910\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <p className=\"text-gray-600 hover:underline text-sm\">WhatsApp</p>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Copyright */}\r\n        <div className=\"mt-4 text-center text-gray-600 text-sm\">\r\n          <p>&copy; 2025 Sekolah Kopi Raisa</p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CAGjD,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAO5C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6LAAC;oCAAG,WAAU;;;;;;8CACd,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;sDAElC,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;sDAElC,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;sDAElC,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;sDACT,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;;;;;;;;;;;;;sCAMtC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6LAAC;oCAAG,WAAU;;;;;;8CACd,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,QAAO;4CACP,KAAI;sDAEJ,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;sDAElC,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,QAAO;4CACP,KAAI;sDAEJ,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;sDAElC,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,QAAO;4CACP,KAAI;sDAEJ,cAAA,6LAAC;gDAAG,WAAU;0DAAkB;;;;;;;;;;;;;;;;;;;;;;;sCAMtC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6LAAC;oCAAG,WAAU;;;;;;8CACd,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;oCAA+B,QAAO;oCAAS,KAAI;8CAC5D,cAAA,6LAAC;wCAAE,WAAU;kDAAwC;;;;;;;;;;;;;;;;;;;;;;;8BAM3D,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKb;KAlFwB","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/app/utils/layanan.ts"],"sourcesContent":["import api from \"./api\";\r\n\r\n// Types untuk Layanan\r\nexport interface LayananItem {\r\n  status_pengajuan_kode: any;\r\n  id: number;\r\n  nama_kegiatan: string;\r\n  tempat_kegiatan: string;\r\n  jumlah_peserta: number;\r\n  instansi_asal: string;\r\n  tanggal_mulai: string;\r\n  tanggal_selesai: string;\r\n  durasi_dalam_bulan?: number;\r\n  link_logbook?: string;\r\n  file_proposal?: string;\r\n  file_surat_permohonan?: string;\r\n  file_surat_pengantar?: string;\r\n  file_surat_undangan?: string;\r\n  file_undangan_narasumber?: string;\r\n  fakultas?: string;\r\n  prodi?: string;\r\n  created_at: string;\r\n  pemohon: {\r\n    id: number;\r\n    name: string;\r\n    email: string;\r\n  };\r\n  peserta?: Array<{\r\n    id: number;\r\n    nama_peserta: string;\r\n    nama?: string;\r\n    instansi_asal: string;\r\n    fakultas?: string;\r\n    program_studi?: string;\r\n    nim?: string;\r\n  }>;\r\n  pengajuan: {\r\n    id: number;\r\n    nama_status_kode: string;\r\n    alasan_penolakan?: string; // Kemungkinan alasan langsung di dalam pengajuan\r\n  };\r\n  pengajuanRejection?: {\r\n    id: number;\r\n    id_layanan: number;\r\n    alasan: string;\r\n  };\r\n  layananRejection?:\r\n    | {\r\n        id: number;\r\n        id_layanan: number;\r\n        alasan: string;\r\n      }\r\n    | Array<{\r\n        id: number;\r\n        id_layanan: number;\r\n        alasan: string;\r\n      }>;\r\n  rejection?: {\r\n    id: number;\r\n    id_layanan: number;\r\n    alasan: string;\r\n  };\r\n  alasan_penolakan?: string; // Kemungkinan langsung di root level\r\n  pelaksanaan: {\r\n    id: number;\r\n    nama_status_kode: string;\r\n  };\r\n  // Backend response fields (for mapping)\r\n  statusKodePengajuan?: {\r\n    id: number;\r\n    nama_status_kode: string;\r\n  };\r\n  statusKodePelaksanaan?: {\r\n    id: number;\r\n    nama_status_kode: string;\r\n  };\r\n  mou?: {\r\n    id: number;\r\n    statusKode: {\r\n      id: number;\r\n      nama_status_kode: string;\r\n    };\r\n    file_mou?: string;\r\n    tanggal_upload?: string;\r\n    mouRejection?: {\r\n      id: number;\r\n      id_mou: number;\r\n      alasan: string;\r\n    };\r\n  };\r\n  sertifikat?:\r\n    | {\r\n        id?: number;\r\n        nama_status_kode?: string;\r\n        file_sertifikat?: string;\r\n        link_sertifikat?: string;\r\n        status?: {\r\n          id: number;\r\n          nama_status_kode: string;\r\n        };\r\n      }\r\n    | Array<{\r\n        id?: number;\r\n        nama_status_kode?: string;\r\n        file_sertifikat?: string;\r\n        link_sertifikat?: string;\r\n        status?: {\r\n          id: number;\r\n          nama_status_kode: string;\r\n        };\r\n      }>;\r\n  laporan?: {\r\n    length: number;\r\n    id?: number;\r\n    nama_status_kode?: string;\r\n    nama_p4s?: string;\r\n    asal_kab_kota?: string;\r\n    foto_kegiatan?: string;\r\n    statusPelaporan?: {\r\n      id: number;\r\n      nama_status_kode: string;\r\n    };\r\n    status?: {\r\n      id: number;\r\n      nama_status_kode: string;\r\n    };\r\n    layanan?: {\r\n      nama_kegiatan?: string;\r\n      jenisLayanan?: {\r\n        nama_jenis_layanan: string;\r\n      };\r\n    };\r\n  };\r\n  kegiatan?: Array<{\r\n    id: number;\r\n    nama_kegiatan: string;\r\n  }>;\r\n  jenis_layanan?: {\r\n    id: number;\r\n    nama_jenis_layanan: string;\r\n  };\r\n  jenisLayanan?: {\r\n    id: number;\r\n    nama_jenis_layanan: string;\r\n  };\r\n}\r\n\r\nexport interface LayananQueryParams {\r\n  include_jenis?: boolean;\r\n  include_peserta?: boolean;\r\n  include_mou?: boolean;\r\n  include_sertifikat?: boolean;\r\n  include_laporan?: boolean;\r\n  include_rejection?: boolean;\r\n  include_pengajuan?: boolean;\r\n  include_pelaksanaan?: boolean;\r\n}\r\n\r\n// GET ALL LAYANAN (untuk user dan admin)\r\nexport const fetchAllLayanan = async (\r\n  params?: LayananQueryParams\r\n): Promise<LayananItem[]> => {\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    if (params?.include_jenis) queryParams.append(\"include_jenis\", \"true\");\r\n    if (params?.include_peserta) queryParams.append(\"include_peserta\", \"true\");\r\n    if (params?.include_mou) queryParams.append(\"include_mou\", \"true\");\r\n    if (params?.include_sertifikat)\r\n      queryParams.append(\"include_sertifikat\", \"true\");\r\n    if (params?.include_laporan) queryParams.append(\"include_laporan\", \"true\");\r\n    if (params?.include_rejection)\r\n      queryParams.append(\"include_rejection\", \"true\");\r\n    if (params?.include_pengajuan)\r\n      queryParams.append(\"include_pengajuan\", \"true\");\r\n    if (params?.include_pelaksanaan)\r\n      queryParams.append(\"include_pelaksanaan\", \"true\");\r\n\r\n    const url = `/api/v1/layanan${\r\n      queryParams.toString() ? `?${queryParams.toString()}` : \"\"\r\n    }`;\r\n    console.log(\"Fetching layanan from:\", url);\r\n\r\n    const response = await api.get(url);\r\n    console.log(\"Layanan response:\", response.data);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal mengambil data layanan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error fetching layanan:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.message ||\r\n        \"Gagal mengambil data layanan\"\r\n    );\r\n  }\r\n};\r\n\r\n// GET LAYANAN BY ID\r\nexport const fetchLayananById = async (\r\n  id: number,\r\n  params?: LayananQueryParams\r\n): Promise<LayananItem> => {\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    if (params?.include_jenis) queryParams.append(\"include_jenis\", \"true\");\r\n    if (params?.include_peserta) queryParams.append(\"include_peserta\", \"true\");\r\n    if (params?.include_mou) queryParams.append(\"include_mou\", \"true\");\r\n    if (params?.include_sertifikat)\r\n      queryParams.append(\"include_sertifikat\", \"true\");\r\n    if (params?.include_laporan) queryParams.append(\"include_laporan\", \"true\");\r\n    if (params?.include_rejection)\r\n      queryParams.append(\"include_rejection\", \"true\");\r\n    if (params?.include_pengajuan)\r\n      queryParams.append(\"include_pengajuan\", \"true\");\r\n    if (params?.include_pelaksanaan)\r\n      queryParams.append(\"include_pelaksanaan\", \"true\");\r\n\r\n    const url = `/api/v1/layanan/${id}${\r\n      queryParams.toString() ? `?${queryParams.toString()}` : \"\"\r\n    }`;\r\n    console.log(\"Fetching layanan detail from:\", url);\r\n\r\n    const response = await api.get(url);\r\n    console.log(\"Layanan detail response:\", response.data);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal mengambil detail layanan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error fetching layanan detail:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.message ||\r\n        \"Gagal mengambil detail layanan\"\r\n    );\r\n  }\r\n};\r\n\r\n// POST CREATE LAYANAN\r\nexport const createLayanan = async (\r\n  formData: FormData\r\n): Promise<LayananItem> => {\r\n  try {\r\n    // Debug isi FormData\r\n    const debugEntries: Record<string, any> = {};\r\n    formData.forEach((v, k) => {\r\n      debugEntries[k] =\r\n        v instanceof File ? `File(name=${v.name}, size=${v.size})` : v;\r\n    });\r\n    console.log(\"Creating layanan with data:\", debugEntries);\r\n\r\n    // Biarkan axios/browser set Content-Type + boundary otomatis\r\n    const response = await api.post(\"/api/v1/layanan\", formData);\r\n    console.log(\"Create layanan response:\", response.data);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal membuat layanan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error creating layanan:\", error);\r\n    console.error(\"Response status:\", error?.response?.status);\r\n    console.error(\"Response data:\", error?.response?.data);\r\n    console.error(\"Response headers:\", error?.response?.headers);\r\n    const serverMsg =\r\n      error?.response?.data?.message ||\r\n      error?.response?.data?.error ||\r\n      JSON.stringify(error?.response?.data);\r\n    throw new Error(serverMsg || error.message || \"Gagal membuat layanan\");\r\n  }\r\n};\r\n\r\n// PUT UPDATE STATUS LAYANAN\r\nexport const acceptPengajuan = async (id: number): Promise<LayananItem> => {\r\n  try {\r\n    console.log(\"Accepting pengajuan:\", id);\r\n\r\n    // Backend route: PUT /api/v1/layanan/:id/accept-pengajuan\r\n    const response = await api.put(`/api/v1/layanan/${id}/accept-pengajuan`);\r\n    console.log(\"Accept pengajuan response:\", response.data);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal menyetujui pengajuan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error accepting pengajuan:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.message ||\r\n        \"Gagal menyetujui pengajuan\"\r\n    );\r\n  }\r\n};\r\n\r\nexport const rejectPengajuan = async (\r\n  id: number,\r\n  alasan: string\r\n): Promise<LayananItem> => {\r\n  try {\r\n    console.log(\"Rejecting pengajuan:\", id, alasan);\r\n\r\n    // Backend route: PUT /api/v1/layanan/:id/reject-pengajuan with body { alasan: \"...\" }\r\n    const response = await api.put(`/api/v1/layanan/${id}/reject-pengajuan`, {\r\n      alasan,\r\n    });\r\n    console.log(\"Reject pengajuan response:\", response.data);\r\n    console.log(\"Reject pengajuan response.data.data:\", response.data.data);\r\n    console.log(\r\n      \"Reject pengajuan response.data.data.layananRejection:\",\r\n      response.data.data?.layananRejection\r\n    );\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal menolak pengajuan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error rejecting pengajuan:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.message ||\r\n        \"Gagal mengupdate status layanan\"\r\n    );\r\n  }\r\n};\r\n\r\n// POST/PUT LOGBOOK\r\nexport interface LogbookPayload {\r\n  id_layanan: number;\r\n  link_logbook: string;\r\n}\r\n\r\nexport const submitLogbook = async (\r\n  id: number,\r\n  payload: LogbookPayload\r\n): Promise<{ success: boolean; message: string; data?: any }> => {\r\n  try {\r\n    console.log(\"Submitting logbook for layanan:\", id, payload);\r\n    console.log(\"API URL:\", `/api/v1/layanan/${id}/logbook`);\r\n\r\n    // Backend uses PUT for both create and update logbook\r\n    const response = await api.put(`/api/v1/layanan/${id}/logbook`, payload);\r\n    console.log(\"Submit logbook response:\", response.data);\r\n\r\n    // Handle different response formats\r\n    if (\r\n      response.data &&\r\n      (response.data.success ||\r\n        response.status === 200 ||\r\n        response.status === 201)\r\n    ) {\r\n      return {\r\n        success: true,\r\n        message: response.data.message || \"Logbook berhasil dikirim\",\r\n        data: response.data.data || response.data,\r\n      };\r\n    }\r\n    throw new Error(response.data?.message || \"Gagal mengirim logbook\");\r\n  } catch (error: any) {\r\n    console.error(\"Error submitting logbook:\", error);\r\n    console.error(\"Error response:\", error.response);\r\n    console.error(\"Error status:\", error.response?.status);\r\n    console.error(\"Error data:\", error.response?.data);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.response?.data?.error ||\r\n        error.message ||\r\n        \"Gagal mengirim logbook\"\r\n    );\r\n  }\r\n};\r\n\r\nexport const updateLogbook = async (\r\n  id: number,\r\n  payload: LogbookPayload\r\n): Promise<{ success: boolean; message: string; data?: any }> => {\r\n  try {\r\n    console.log(\"Updating logbook for layanan:\", id, payload);\r\n    console.log(\"API URL:\", `/api/v1/layanan/${id}/logbook`);\r\n\r\n    const response = await api.put(`/api/v1/layanan/${id}/logbook`, payload);\r\n    console.log(\"Update logbook response:\", response.data);\r\n\r\n    // Handle different response formats\r\n    if (response.data && (response.data.success || response.status === 200)) {\r\n      return {\r\n        success: true,\r\n        message: response.data.message || \"Logbook berhasil diupdate\",\r\n        data: response.data.data || response.data,\r\n      };\r\n    }\r\n    throw new Error(response.data?.message || \"Gagal mengupdate logbook\");\r\n  } catch (error: any) {\r\n    console.error(\"Error updating logbook:\", error);\r\n    console.error(\"Error response:\", error.response);\r\n    console.error(\"Error status:\", error.response?.status);\r\n    console.error(\"Error data:\", error.response?.data);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.response?.data?.error ||\r\n        error.message ||\r\n        \"Gagal mengupdate logbook\"\r\n    );\r\n  }\r\n};\r\n\r\n// UPDATE STATUS PELAKSANAAN\r\nexport const updateStatusPelaksanaan = async (\r\n  id: number,\r\n  status: \"SELESAI\" | \"BERLANGSUNG\"\r\n): Promise<{ success: boolean; message: string; data?: any }> => {\r\n  try {\r\n    console.log(\"Finishing pelaksanaan for layanan:\", id);\r\n    console.log(\"API URL:\", `/api/v1/layanan/${id}/finish-pelaksanaan`);\r\n\r\n    const response = await api.put(`/api/v1/layanan/${id}/finish-pelaksanaan`);\r\n    console.log(\"Finish pelaksanaan response:\", response.data);\r\n\r\n    if (\r\n      response.data &&\r\n      (response.data.success ||\r\n        response.status === 200 ||\r\n        response.status === 201)\r\n    ) {\r\n      return {\r\n        success: true,\r\n        message:\r\n          response.data.message || \"Status pelaksanaan berhasil diupdate\",\r\n        data: response.data.data || response.data,\r\n      };\r\n    }\r\n    throw new Error(\r\n      response.data?.message || \"Gagal mengupdate status pelaksanaan\"\r\n    );\r\n  } catch (error: any) {\r\n    console.error(\"Error finishing pelaksanaan:\", error);\r\n    console.error(\"Error response:\", error.response);\r\n    console.error(\"Error status:\", error.response?.status);\r\n    console.error(\"Error data:\", error.response?.data);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.response?.data?.error ||\r\n        error.message ||\r\n        \"Gagal mengupdate status pelaksanaan\"\r\n    );\r\n  }\r\n};\r\n\r\n// Helper function untuk format status badge\r\nexport const getStatusColor = (status: string): string => {\r\n  const statusLower = status.toLowerCase();\r\n  if (statusLower.includes(\"disetujui\") || statusLower.includes(\"selesai\")) {\r\n    return \"bg-green-100 text-green-700 border-green-200\";\r\n  }\r\n  if (statusLower.includes(\"ditolak\") || statusLower.includes(\"batal\")) {\r\n    return \"bg-red-100 text-red-700 border-red-200\";\r\n  }\r\n  if (statusLower.includes(\"menunggu\") || statusLower.includes(\"pending\")) {\r\n    return \"bg-yellow-100 text-yellow-700 border-yellow-200\";\r\n  }\r\n  if (statusLower.includes(\"berlangsung\") || statusLower.includes(\"proses\")) {\r\n    return \"bg-blue-100 text-blue-700 border-blue-200\";\r\n  }\r\n  return \"bg-gray-100 text-gray-700 border-gray-200\";\r\n};\r\n\r\n// Helper function untuk format tanggal\r\nexport const formatDate = (dateString: string): string => {\r\n  return new Date(dateString).toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n};\r\n\r\n// Helper function untuk format nama jenis layanan ke slug\r\nexport const getSlugFromJenisLayanan = (namaJenis: string): string => {\r\n  const namaLower = namaJenis.toLowerCase();\r\n  if (namaLower.includes(\"pkl\")) return \"pkl\";\r\n  if (namaLower.includes(\"magang\")) return \"magang\";\r\n  if (namaLower.includes(\"pelatihan\")) return \"pelatihan\";\r\n  if (namaLower.includes(\"kunjungan\")) return \"kunjungan\";\r\n  if (namaLower.includes(\"narasumber\")) return \"undangan-narasumber\";\r\n  return namaJenis.toLowerCase().replace(/\\s+/g, \"-\");\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/app/utils/mou.ts"],"sourcesContent":["import api from \"./api\";\r\n\r\nexport interface MouItem {\r\n  id: number;\r\n  id_layanan: number;\r\n  id_status_pengajuan: number;\r\n  file_mou: string;\r\n  tanggal_upload?: string;\r\n  tanggal_disetujui?: string;\r\n  statusKode?: {\r\n    id: number;\r\n    nama_status_kode: string;\r\n  };\r\n  mouRejection?: {\r\n    id: number;\r\n    id_mou: number;\r\n    alasan: string;\r\n  };\r\n}\r\n\r\n// GET MOU BY ID\r\nexport const fetchMouById = async (id: number): Promise<MouItem> => {\r\n  try {\r\n    const response = await api.get(`/api/v1/mou/${id}`);\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal mengambil data MOU\");\r\n  } catch (error: any) {\r\n    console.error(\"Error fetching MOU:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.message ||\r\n        \"Gagal mengambil data MOU\"\r\n    );\r\n  }\r\n};\r\n\r\n// CREATE MOU (User upload MOU)\r\nexport const createMou = async (data: {\r\n  id_layanan: number;\r\n  file_mou: File;\r\n}): Promise<MouItem> => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"id_layanan\", data.id_layanan.toString());\r\n    formData.append(\"file_mou\", data.file_mou);\r\n\r\n    const response = await api.post(\"/api/v1/mou\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal mengunggah MOU\");\r\n  } catch (error: any) {\r\n    console.error(\"Error creating MOU:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message || error.message || \"Gagal mengunggah MOU\"\r\n    );\r\n  }\r\n};\r\n\r\n// UPDATE MOU (User re-upload MOU setelah ditolak)\r\nexport const updateMou = async (\r\n  id: number,\r\n  file_mou: File\r\n): Promise<MouItem> => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"file_mou\", file_mou);\r\n\r\n    const response = await api.put(`/api/v1/mou/${id}`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal memperbarui MOU\");\r\n  } catch (error: any) {\r\n    console.error(\"Error updating MOU:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message || error.message || \"Gagal memperbarui MOU\"\r\n    );\r\n  }\r\n};\r\n\r\n// APPROVE MOU (Admin approves MOU)\r\nexport const approveMou = async (id: number): Promise<MouItem> => {\r\n  try {\r\n    const response = await api.put(`/api/v1/mou/${id}/accept`);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal menyetujui MOU\");\r\n  } catch (error: any) {\r\n    console.error(\"Error approving MOU:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message || error.message || \"Gagal menyetujui MOU\"\r\n    );\r\n  }\r\n};\r\n\r\n// REJECT MOU (Admin rejects MOU)\r\nexport const rejectMou = async (\r\n  id: number,\r\n  alasan: string\r\n): Promise<MouItem> => {\r\n  try {\r\n    const response = await api.put(`/api/v1/mou/${id}/reject`, { alasan });\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal menolak MOU\");\r\n  } catch (error: any) {\r\n    console.error(\"Error rejecting MOU:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message || error.message || \"Gagal menolak MOU\"\r\n    );\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAqBO,MAAM,eAAe,OAAO;IACjC,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,IAAI;QAClD,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WACpB,MAAM,OAAO,IACb;IAEN;AACF;AAGO,MAAM,YAAY,OAAO;IAI9B,IAAI;QACF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,cAAc,KAAK,UAAU,CAAC,QAAQ;QACtD,SAAS,MAAM,CAAC,YAAY,KAAK,QAAQ;QAEzC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,eAAe,UAAU;YACvD,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;IAEtD;AACF;AAGO,MAAM,YAAY,OACvB,IACA;IAEA,IAAI;QACF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,YAAY;QAE5B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE,UAAU;YAC5D,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;IAEtD;AACF;AAGO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,GAAG,OAAO,CAAC;QAEzD,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;IAEtD;AACF;AAGO,MAAM,YAAY,OACvB,IACA;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE;QAAO;QAEpE,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;IAEtD;AACF","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/app/utils/modul.ts"],"sourcesContent":["import api from \"./api\";\r\nimport { ModulItem, ModulFormData } from \"../types/modulType\";\r\n\r\n// GET ALL MODUL\r\nexport const fetchAllModul = async (): Promise<ModulItem[]> => {\r\n  try {\r\n    console.log(\"Fetching moduls from API...\");\r\n    const response = await api.get(\"/api/v1/modul\");\r\n    console.log(\"Modul response:\", response);\r\n    console.log(\"Modul data:\", response.data);\r\n    return response.data.data;\r\n  } catch (error: any) {\r\n    console.error(\"Error fetching modul:\", error);\r\n    console.error(\"Error response:\", error.response);\r\n    console.error(\"Error message:\", error.message);\r\n    throw new Error(\r\n      error.response?.data?.message || \"Gagal mengambil data modul\"\r\n    );\r\n  }\r\n};\r\n\r\n// GET MODUL BY ID\r\nexport const fetchModulById = async (id: number): Promise<ModulItem> => {\r\n  try {\r\n    console.log(\"Fetching modul by id:\", id);\r\n    const response = await api.get(`/api/v1/modul/${id}`);\r\n    console.log(\"Modul by id response:\", response.data);\r\n    return response.data.data;\r\n  } catch (error: any) {\r\n    console.error(\"Error fetching modul by id:\", error);\r\n    console.error(\"Error response:\", error.response);\r\n    throw new Error(\r\n      error.response?.data?.message || \"Gagal mengambil detail modul\"\r\n    );\r\n  }\r\n};\r\n\r\n// CREATE NEW MODUL\r\nexport const createModul = async (\r\n  formData: ModulFormData\r\n): Promise<ModulItem> => {\r\n  try {\r\n    const data = new FormData();\r\n    data.append(\"judul_modul\", formData.judul_modul);\r\n    data.append(\"deskripsi\", formData.deskripsi);\r\n    if (formData.file_modul) {\r\n      data.append(\"file_modul\", formData.file_modul);\r\n    }\r\n\r\n    const response = await api.post(\"/api/v1/modul\", data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    return response.data.data;\r\n  } catch (error: any) {\r\n    console.error(\"Error creating modul:\", error);\r\n    throw new Error(error.response?.data?.message || \"Gagal menambahkan modul\");\r\n  }\r\n};\r\n\r\n// UPDATE MODUL BY ID\r\nexport const updateModul = async (\r\n  id: number,\r\n  formData: ModulFormData\r\n): Promise<ModulItem> => {\r\n  try {\r\n    const data = new FormData();\r\n    data.append(\"judul_modul\", formData.judul_modul);\r\n    data.append(\"deskripsi\", formData.deskripsi);\r\n    if (formData.file_modul) {\r\n      data.append(\"file_modul\", formData.file_modul);\r\n    }\r\n\r\n    const response = await api.put(`/api/v1/modul/${id}`, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    return response.data.data;\r\n  } catch (error: any) {\r\n    console.error(\"Error updating modul:\", error);\r\n    throw new Error(error.response?.data?.message || \"Gagal memperbarui modul\");\r\n  }\r\n};\r\n\r\n// DELETE MODUL BY ID\r\nexport const deleteModul = async (id: number): Promise<void> => {\r\n  try {\r\n    await api.delete(`/api/v1/modul/${id}`);\r\n  } catch (error: any) {\r\n    console.error(\"Error deleting modul:\", error);\r\n    throw new Error(error.response?.data?.message || \"Gagal menghapus modul\");\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAIO,MAAM,gBAAgB;IAC3B,IAAI;QACF,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;QAC/B,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,QAAQ,GAAG,CAAC,eAAe,SAAS,IAAI;QACxC,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,QAAQ,KAAK,CAAC,mBAAmB,MAAM,QAAQ;QAC/C,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;QAC7C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW;IAErC;AACF;AAGO,MAAM,iBAAiB,OAAO;IACnC,IAAI;QACF,QAAQ,GAAG,CAAC,yBAAyB;QACrC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,IAAI;QACpD,QAAQ,GAAG,CAAC,yBAAyB,SAAS,IAAI;QAClD,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,QAAQ,KAAK,CAAC,mBAAmB,MAAM,QAAQ;QAC/C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW;IAErC;AACF;AAGO,MAAM,cAAc,OACzB;IAEA,IAAI;QACF,MAAM,OAAO,IAAI;QACjB,KAAK,MAAM,CAAC,eAAe,SAAS,WAAW;QAC/C,KAAK,MAAM,CAAC,aAAa,SAAS,SAAS;QAC3C,IAAI,SAAS,UAAU,EAAE;YACvB,KAAK,MAAM,CAAC,cAAc,SAAS,UAAU;QAC/C;QAEA,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,iBAAiB,MAAM;YACrD,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,WAAW;IACnD;AACF;AAGO,MAAM,cAAc,OACzB,IACA;IAEA,IAAI;QACF,MAAM,OAAO,IAAI;QACjB,KAAK,MAAM,CAAC,eAAe,SAAS,WAAW;QAC/C,KAAK,MAAM,CAAC,aAAa,SAAS,SAAS;QAC3C,IAAI,SAAS,UAAU,EAAE;YACvB,KAAK,MAAM,CAAC,cAAc,SAAS,UAAU;QAC/C;QAEA,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE,MAAM;YAC1D,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAO,SAAS,IAAI,CAAC,IAAI;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,WAAW;IACnD;AACF;AAGO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,sHAAA,CAAA,UAAG,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,IAAI;IACxC,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,WAAW;IACnD;AACF","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/app/utils/laporan.ts"],"sourcesContent":["import api from \"./api\";\r\nimport axios from \"axios\";\r\n\r\n// Types untuk Laporan Layanan\r\nexport interface LaporanLayananPayload {\r\n  id_layanan: number;\r\n  nama_p4s: string;\r\n  asal_kab_kota: string;\r\n  foto_kegiatan: File;\r\n}\r\n\r\nexport interface LaporanLayananResponse {\r\n  success: boolean;\r\n  message: string;\r\n  data?: {\r\n    id: number;\r\n    id_layanan: number;\r\n    nama_p4s: string;\r\n    asal_kab_kota: string;\r\n    foto_kegiatan: string;\r\n    created_at: string;\r\n  };\r\n}\r\n\r\n// POST CREATE LAPORAN LAYANAN\r\nexport const createLaporanLayanan = async (\r\n  payload: LaporanLayananPayload\r\n): Promise<LaporanLayananResponse> => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"id_layanan\", payload.id_layanan.toString());\r\n    formData.append(\"nama_p4s\", payload.nama_p4s);\r\n    formData.append(\"asal_kab_kota\", payload.asal_kab_kota);\r\n    formData.append(\"foto_kegiatan\", payload.foto_kegiatan);\r\n\r\n    console.log(\"Creating laporan layanan with data:\", {\r\n      id_layanan: payload.id_layanan,\r\n      nama_p4s: payload.nama_p4s,\r\n      asal_kab_kota: payload.asal_kab_kota,\r\n      foto_kegiatan: payload.foto_kegiatan.name,\r\n      foto_size: payload.foto_kegiatan.size,\r\n      foto_type: payload.foto_kegiatan.type,\r\n    });\r\n\r\n    const response = await api.post(\"/api/v1/laporan-layanan\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    console.log(\"Create laporan response:\", response.data);\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    throw new Error(response.data.message || \"Gagal mengirim laporan\");\r\n  } catch (error: any) {\r\n    console.error(\"Error creating laporan layanan:\", error);\r\n    throw new Error(\r\n      error.response?.data?.message || error.message || \"Gagal mengirim laporan\"\r\n    );\r\n\r\n    // Handle CORS error\r\n    if (\r\n      error.message?.includes(\"Network Error\") ||\r\n      error.code === \"ERR_NETWORK\"\r\n    ) {\r\n      throw new Error(\r\n        \"Tidak dapat terhubung ke server. Pastikan Anda sudah login dan koneksi internet stabil.\"\r\n      );\r\n    }\r\n\r\n    // Handle specific error responses\r\n    if (error.response?.status === 401) {\r\n      throw new Error(\"Sesi Anda telah berakhir. Silakan login kembali.\");\r\n    }\r\n\r\n    if (error.response?.status === 403) {\r\n      throw new Error(\"Anda tidak memiliki akses untuk mengirim laporan.\");\r\n    }\r\n\r\n    if (error.response?.status === 422) {\r\n      throw new Error(\r\n        error.response?.data?.message ||\r\n          \"Data yang Anda kirim tidak valid. Periksa kembali form Anda.\"\r\n      );\r\n    }\r\n\r\n    throw new Error(\r\n      error.response?.data?.message ||\r\n        error.response?.data?.error ||\r\n        error.message ||\r\n        \"Gagal mengirim laporan layanan\"\r\n    );\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AAyBO,MAAM,uBAAuB,OAClC;IAEA,IAAI;QACF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,cAAc,QAAQ,UAAU,CAAC,QAAQ;QACzD,SAAS,MAAM,CAAC,YAAY,QAAQ,QAAQ;QAC5C,SAAS,MAAM,CAAC,iBAAiB,QAAQ,aAAa;QACtD,SAAS,MAAM,CAAC,iBAAiB,QAAQ,aAAa;QAEtD,QAAQ,GAAG,CAAC,uCAAuC;YACjD,YAAY,QAAQ,UAAU;YAC9B,UAAU,QAAQ,QAAQ;YAC1B,eAAe,QAAQ,aAAa;YACpC,eAAe,QAAQ,aAAa,CAAC,IAAI;YACzC,WAAW,QAAQ,aAAa,CAAC,IAAI;YACrC,WAAW,QAAQ,aAAa,CAAC,IAAI;QACvC;QAEA,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,2BAA2B,UAAU;YACnE,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,QAAQ,GAAG,CAAC,4BAA4B,SAAS,IAAI;QAErD,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;YACzB,OAAO,SAAS,IAAI,CAAC,IAAI;QAC3B;QACA,MAAM,IAAI,MAAM,SAAS,IAAI,CAAC,OAAO,IAAI;IAC3C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;QAGpD,oBAAoB;QACpB,IACE,MAAM,OAAO,EAAE,SAAS,oBACxB,MAAM,IAAI,KAAK,eACf;YACA,MAAM,IAAI,MACR;QAEJ;QAEA,kCAAkC;QAClC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WACpB;QAEN;QAEA,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WACpB,MAAM,QAAQ,EAAE,MAAM,SACtB,MAAM,OAAO,IACb;IAEN;AACF","debugId":null}},
    {"offset": {"line": 783, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/app/layanan/detail-pelaksanaan-pelatihan/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  Check,\r\n  Download,\r\n  Eye,\r\n  FileText,\r\n  Handshake,\r\n  ClipboardList,\r\n  FileCheck,\r\n  Award,\r\n  XCircle,\r\n  CheckCircle2,\r\n  Upload,\r\n  Info,\r\n} from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport Footer from \"../../../components/main/Footer\";\r\nimport {\r\n  fetchLayananById,\r\n  LayananItem,\r\n  formatDate,\r\n  submitLogbook,\r\n  updateLogbook,\r\n  updateStatusPelaksanaan,\r\n} from \"../../utils/layanan\";\r\nimport { createMou, updateMou } from \"../../utils/mou\";\r\nimport { fetchAllModul } from \"../../utils/modul\";\r\nimport type { ModulItem } from \"../../types/modulType\";\r\nimport { createLaporanLayanan } from \"../../utils/laporan\";\r\nimport {\r\n  fetchSertifikatById,\r\n  type SertifikatItem,\r\n} from \"../../utils/sertifikat\";\r\n\r\nexport default function DetailPelaksanaanPelatihanPage() {\r\n  const searchParams = useSearchParams();\r\n  const layananId = searchParams.get(\"id\");\r\n\r\n  const [layananData, setLayananData] = useState<LayananItem | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const valueOrDash = (value?: string) => {\r\n    if (typeof value !== \"string\") return \"-\";\r\n    const v = value.trim();\r\n    if (\r\n      v === \"\" ||\r\n      v.toLowerCase() === \"null\" ||\r\n      v.toLowerCase() === \"undefined\"\r\n    )\r\n      return \"-\";\r\n    return v;\r\n  };\r\n\r\n  // Helper: bangun URL file absolut dari path relatif/absolut\r\n  const resolveFileUrl = (path?: string | null): string | null => {\r\n    if (!path) return null;\r\n    const trimmed = path.trim();\r\n    if (\r\n      trimmed === \"\" ||\r\n      trimmed.toLowerCase() === \"null\" ||\r\n      trimmed.toLowerCase() === \"undefined\"\r\n    )\r\n      return null;\r\n    if (/^https?:\\/\\//i.test(trimmed)) return trimmed;\r\n    const base = (process.env.NEXT_PUBLIC_API_URL || \"\").replace(/\\/$/, \"\");\r\n    const p = trimmed.startsWith(\"/\") ? trimmed : `/${trimmed}`;\r\n    return `${base}${p}`;\r\n  };\r\n\r\n  const openFile = (url: string | null) => {\r\n    if (!url) return;\r\n    if (typeof window !== \"undefined\")\r\n      window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n  };\r\n\r\n  const downloadFile = (url: string | null, filename?: string) => {\r\n    if (!url || typeof document === \"undefined\") return;\r\n\r\n    // Fetch file as blob then trigger download\r\n    fetch(url)\r\n      .then((response) => {\r\n        if (!response.ok) throw new Error(\"Network response was not ok\");\r\n        return response.blob();\r\n      })\r\n      .then((blob) => {\r\n        const blobUrl = window.URL.createObjectURL(blob);\r\n        const a = document.createElement(\"a\");\r\n        a.href = blobUrl;\r\n        a.download = filename || \"download.pdf\";\r\n        a.style.display = \"none\";\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        window.URL.revokeObjectURL(blobUrl);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Download error:\", error);\r\n        // Fallback: open in new tab if fetch fails\r\n        window.open(url, \"_blank\");\r\n      });\r\n  };\r\n\r\n  // Fetch layanan data on component mount\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (!layananId) {\r\n        setError(\"ID Layanan tidak ditemukan\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchLayananById(Number(layananId), {\r\n          include_jenis: true,\r\n          include_peserta: true,\r\n          include_mou: true,\r\n          include_sertifikat: true,\r\n          include_laporan: true,\r\n          include_rejection: true,\r\n          include_pengajuan: true,\r\n          include_pelaksanaan: true,\r\n        });\r\n        setLayananData(data);\r\n\r\n        // Set link logbook jika sudah ada\r\n        if (data.link_logbook) {\r\n          setLogbookLink(data.link_logbook);\r\n          setIsLogbookSubmitted(true);\r\n        }\r\n\r\n        // Set status berdasarkan data API dengan null checks\r\n        if (data.pengajuan?.nama_status_kode) {\r\n          setPengajuanDecision(\r\n            mapStatusToDecision(\r\n              data.pengajuan.nama_status_kode,\r\n              \"pengajuan\"\r\n            ) as typeof pengajuanDecision\r\n          );\r\n        }\r\n        if (data.mou?.statusKode?.nama_status_kode) {\r\n          setMouDecision(\r\n            mapStatusToDecision(\r\n              data.mou.statusKode.nama_status_kode,\r\n              \"mou\"\r\n            ) as typeof mouDecision\r\n          );\r\n        }\r\n        if (data.pelaksanaan?.nama_status_kode) {\r\n          setPelaksanaanDecision(\r\n            mapStatusToDecision(\r\n              data.pelaksanaan.nama_status_kode,\r\n              \"pelaksanaan\"\r\n            ) as typeof pelaksanaanDecision\r\n          );\r\n        }\r\n        if (data.laporan?.nama_status_kode) {\r\n          setLaporanDecision(\r\n            mapStatusToDecision(\r\n              data.laporan.nama_status_kode,\r\n              \"laporan\"\r\n            ) as typeof laporanDecision\r\n          );\r\n        } else if (data.laporan?.statusPelaporan?.nama_status_kode) {\r\n          setLaporanDecision(\r\n            mapStatusToDecision(\r\n              data.laporan.statusPelaporan.nama_status_kode,\r\n              \"laporan\"\r\n            ) as typeof laporanDecision\r\n          );\r\n        } else if (data.laporan?.status?.nama_status_kode) {\r\n          setLaporanDecision(\r\n            mapStatusToDecision(\r\n              data.laporan.status.nama_status_kode,\r\n              \"laporan\"\r\n            ) as typeof laporanDecision\r\n          );\r\n        }\r\n        const sertifikat = Array.isArray(data.sertifikat)\r\n          ? data.sertifikat[0]\r\n          : data.sertifikat;\r\n        if (sertifikat?.nama_status_kode) {\r\n          setSertifikatDecision(\r\n            mapStatusToDecision(\r\n              sertifikat.nama_status_kode,\r\n              \"sertifikat\"\r\n            ) as typeof sertifikatDecision\r\n          );\r\n        } else if (sertifikat?.status?.nama_status_kode) {\r\n          setSertifikatDecision(\r\n            mapStatusToDecision(\r\n              sertifikat.status.nama_status_kode,\r\n              \"sertifikat\"\r\n            ) as typeof sertifikatDecision\r\n          );\r\n        }\r\n\r\n        setError(null);\r\n      } catch (err: any) {\r\n        console.error(\"Error fetching layanan:\", err);\r\n        setError(err.message || \"Gagal memuat data layanan\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [layananId]);\r\n\r\n  // Add effect to refresh data when page becomes visible\r\n  useEffect(() => {\r\n    const handleVisibilityChange = () => {\r\n      if (!document.hidden && layananId) {\r\n        console.log(\r\n          \"[DetailPelaksanaanPelatihan] Page became visible, refreshing data...\"\r\n        );\r\n        const refetchData = async () => {\r\n          try {\r\n            const data = await fetchLayananById(Number(layananId), {\r\n              include_jenis: true,\r\n              include_peserta: true,\r\n              include_mou: true,\r\n              include_sertifikat: true,\r\n              include_laporan: true,\r\n              include_rejection: true,\r\n              include_pengajuan: true,\r\n              include_pelaksanaan: true,\r\n            });\r\n            setLayananData(data);\r\n\r\n            // Update all status states\r\n            if (data.pengajuan?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.pengajuan.nama_status_kode,\r\n                \"pengajuan\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"disetujui\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setPengajuanDecision(status);\r\n              }\r\n            }\r\n            if (data.mou?.statusKode?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.mou.statusKode.nama_status_kode,\r\n                \"mou\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"disetujui\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setMouDecision(status);\r\n              }\r\n            }\r\n            if (data.pelaksanaan?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.pelaksanaan.nama_status_kode,\r\n                \"pelaksanaan\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"berjalan\" ||\r\n                status === \"selesai\"\r\n              ) {\r\n                setPelaksanaanDecision(status);\r\n              }\r\n            }\r\n            if (data.laporan?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.laporan.nama_status_kode,\r\n                \"laporan\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"disetujui\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setLaporanDecision(status);\r\n              }\r\n            } else if (data.laporan?.statusPelaporan?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.laporan.statusPelaporan.nama_status_kode,\r\n                \"laporan\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"disetujui\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setLaporanDecision(status);\r\n              }\r\n            } else if (data.laporan?.status?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                data.laporan.status.nama_status_kode,\r\n                \"laporan\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"disetujui\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setLaporanDecision(status);\r\n              }\r\n            }\r\n            const sertifikat = Array.isArray(data.sertifikat)\r\n              ? data.sertifikat[0]\r\n              : data.sertifikat;\r\n            if (sertifikat?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                sertifikat.nama_status_kode,\r\n                \"sertifikat\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"selesai\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setSertifikatDecision(status);\r\n              }\r\n            } else if (sertifikat?.status?.nama_status_kode) {\r\n              const status = mapStatusToDecision(\r\n                sertifikat.status.nama_status_kode,\r\n                \"sertifikat\"\r\n              );\r\n              if (\r\n                status === \"menunggu\" ||\r\n                status === \"selesai\" ||\r\n                status === \"ditolak\"\r\n              ) {\r\n                setSertifikatDecision(status);\r\n              }\r\n            }\r\n            if (data.link_logbook) {\r\n              setLogbookLink(data.link_logbook);\r\n              setIsLogbookSubmitted(true);\r\n            }\r\n          } catch (err: any) {\r\n            console.error(\r\n              \"[DetailPelaksanaanPelatihan] Error refreshing:\",\r\n              err\r\n            );\r\n          }\r\n        };\r\n        refetchData();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n    return () => {\r\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n    };\r\n  }, [layananId]);\r\n\r\n  // Add polling for real-time status updates\r\n  useEffect(() => {\r\n    if (!layananId) return;\r\n\r\n    const pollInterval = setInterval(async () => {\r\n      try {\r\n        const data = await fetchLayananById(Number(layananId), {\r\n          include_jenis: true,\r\n          include_peserta: true,\r\n          include_mou: true,\r\n          include_sertifikat: true,\r\n          include_laporan: true,\r\n          include_rejection: true,\r\n          include_pengajuan: true,\r\n          include_pelaksanaan: true,\r\n        });\r\n\r\n        // Update all status states\r\n        if (data.pengajuan?.nama_status_kode) {\r\n          const status = mapStatusToDecision(\r\n            data.pengajuan.nama_status_kode,\r\n            \"pengajuan\"\r\n          );\r\n          if (\r\n            status === \"menunggu\" ||\r\n            status === \"disetujui\" ||\r\n            status === \"ditolak\"\r\n          ) {\r\n            setPengajuanDecision(status);\r\n          }\r\n        }\r\n        if (data.mou?.statusKode?.nama_status_kode) {\r\n          const status = mapStatusToDecision(\r\n            data.mou.statusKode.nama_status_kode,\r\n            \"mou\"\r\n          );\r\n          if (\r\n            status === \"menunggu\" ||\r\n            status === \"disetujui\" ||\r\n            status === \"ditolak\"\r\n          ) {\r\n            setMouDecision(status);\r\n          }\r\n        }\r\n\r\n        setLayananData(data);\r\n      } catch (e) {\r\n        console.error(\"Error polling layanan data:\", e);\r\n      }\r\n    }, 10000); // 10 seconds - auto refresh untuk melihat perubahan dari admin\r\n\r\n    return () => clearInterval(pollInterval);\r\n  }, [layananId]);\r\n\r\n  // Helper function to map API status to component decision states\r\n  const mapStatusToDecision = (\r\n    statusKode: string,\r\n    type: string\r\n  ): \"menunggu\" | \"disetujui\" | \"ditolak\" | \"berjalan\" | \"selesai\" => {\r\n    const kode = statusKode.toLowerCase();\r\n    if (kode.includes(\"disetujui\") || kode.includes(\"diterima\"))\r\n      return \"disetujui\";\r\n    if (kode.includes(\"ditolak\")) return \"ditolak\";\r\n    if (kode.includes(\"berlangsung\") || kode.includes(\"berjalan\"))\r\n      return \"berjalan\";\r\n    if (kode.includes(\"selesai\")) return \"selesai\";\r\n    return \"menunggu\";\r\n  };\r\n\r\n  // Get participant info - using first peserta if available\r\n  const pesertaInfo = layananData?.peserta?.[0];\r\n\r\n  const infoKiri = [\r\n    {\r\n      label: \"Jenis Kegiatan\",\r\n      value:\r\n        layananData?.jenisLayanan?.nama_jenis_layanan ||\r\n        layananData?.jenis_layanan?.nama_jenis_layanan ||\r\n        \"Pelatihan\",\r\n    },\r\n    {\r\n      label: \"Penanggungjawab\",\r\n      value: pesertaInfo?.nama || pesertaInfo?.nama_peserta || \"-\",\r\n    },\r\n    {\r\n      label: \"Jumlah Peserta\",\r\n      value: layananData?.jumlah_peserta?.toString() || \"-\",\r\n    },\r\n    { label: \"Instansi\", value: layananData?.instansi_asal || \"-\" },\r\n  ];\r\n\r\n  const infoKanan = [\r\n    {\r\n      label: \"Tanggal Mulai\",\r\n      value: layananData?.tanggal_mulai\r\n        ? formatDate(layananData.tanggal_mulai)\r\n        : \"-\",\r\n    },\r\n    {\r\n      label: \"Tanggal Selesai\",\r\n      value: layananData?.tanggal_selesai\r\n        ? formatDate(layananData.tanggal_selesai)\r\n        : \"-\",\r\n    },\r\n    {\r\n      label: \"Kegiatan yang dipilih\",\r\n      value:\r\n        layananData?.kegiatan?.map((k) => k.nama_kegiatan).join(\", \") ||\r\n        layananData?.nama_kegiatan ||\r\n        \"-\",\r\n    },\r\n  ];\r\n\r\n  const dokumen = [\r\n    {\r\n      label: \"Surat Permohonan\",\r\n      file:\r\n        layananData?.file_surat_permohonan || layananData?.file_proposal || \"\",\r\n    },\r\n  ];\r\n\r\n  const steps = [\r\n    { name: \"Pengajuan\", desc: \"Menunggu Persetujuan\", icon: FileText },\r\n    { name: \"MOU\", desc: \"Belum Terlaksana\", icon: Handshake },\r\n    { name: \"Pelaksanaan\", desc: \"Belum Terlaksana\", icon: ClipboardList },\r\n    { name: \"Laporan Akhir\", desc: \"Belum Terlaksana\", icon: FileCheck },\r\n    { name: \"Sertifikat Kegiatan\", desc: \"Belum Terlaksana\", icon: Award },\r\n  ];\r\n\r\n  const [pengajuanDecision, setPengajuanDecision] = useState<\r\n    \"menunggu\" | \"disetujui\" | \"ditolak\"\r\n  >(\"menunggu\");\r\n  const [mouDecision, setMouDecision] = useState<\r\n    \"menunggu\" | \"disetujui\" | \"ditolak\"\r\n  >(\"menunggu\");\r\n  const [pelaksanaanDecision, setPelaksanaanDecision] = useState<\r\n    \"menunggu\" | \"berjalan\" | \"selesai\"\r\n  >(\"menunggu\");\r\n  const [laporanDecision, setLaporanDecision] = useState<\r\n    \"menunggu\" | \"disetujui\" | \"ditolak\"\r\n  >(\"menunggu\");\r\n  const [sertifikatDecision, setSertifikatDecision] = useState<\r\n    \"menunggu\" | \"selesai\" | \"ditolak\"\r\n  >(\"menunggu\");\r\n\r\n  const [mouFile, setMouFile] = useState<File | null>(null);\r\n  const mouInputRef = useRef<HTMLInputElement | null>(null);\r\n  const handlePickMou = () => mouInputRef.current?.click();\r\n  const handleMouChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    const file = e.target.files?.[0] ?? null;\r\n    setMouFile(file);\r\n  };\r\n  const handleSubmitMou = async () => {\r\n    if (!mouFile) {\r\n      const Swal = (await import(\"sweetalert2\")).default;\r\n      await Swal.fire({\r\n        title: \"Pilih File MOU\",\r\n        text: \"Silakan pilih file MOU terlebih dahulu sebelum mengunggah.\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Pilih File\",\r\n        cancelButtonText: \"Batal\",\r\n        reverseButtons: true,\r\n        customClass: {\r\n          confirmButton:\r\n            \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n          cancelButton:\r\n            \"swal2-cancel border border-[#E8E2DB] text-[#3B3B3B] px-6 py-2 rounded-lg\",\r\n          popup: \"rounded-xl\",\r\n        },\r\n        buttonsStyling: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          handlePickMou();\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    const Swal = (await import(\"sweetalert2\")).default;\r\n    const result = await Swal.fire({\r\n      title: \"Yakin Mengirimkan MOU?\",\r\n      text: \"Pastikan file MOU yang Anda unggah sudah benar.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Ya, Submit\",\r\n      cancelButtonText: \"Batal\",\r\n      reverseButtons: true,\r\n      customClass: {\r\n        confirmButton:\r\n          \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n        cancelButton:\r\n          \"swal2-cancel border border-[#E8E2DB] text-[#3B3B3B] px-6 py-2 rounded-lg\",\r\n        popup: \"rounded-xl\",\r\n      },\r\n      buttonsStyling: false,\r\n    });\r\n\r\n    if (result.isConfirmed) {\r\n      try {\r\n        Swal.fire({\r\n          title: \"Mengunggah MOU...\",\r\n          text: \"Mohon tunggu sebentar\",\r\n          allowOutsideClick: false,\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n          },\r\n        });\r\n\r\n        if (layananData?.mou?.id) {\r\n          await updateMou(layananData.mou.id, mouFile);\r\n        } else {\r\n          await createMou({ id_layanan: Number(layananId), file_mou: mouFile });\r\n        }\r\n\r\n        const updatedData = await fetchLayananById(Number(layananId), {\r\n          include_jenis: true,\r\n          include_peserta: true,\r\n          include_mou: true,\r\n          include_sertifikat: true,\r\n          include_laporan: true,\r\n          include_rejection: true,\r\n        });\r\n        setLayananData(updatedData);\r\n\r\n        if (updatedData.mou?.statusKode?.nama_status_kode) {\r\n          setMouDecision(\r\n            mapStatusToDecision(\r\n              updatedData.mou.statusKode.nama_status_kode,\r\n              \"mou\"\r\n            ) as typeof mouDecision\r\n          );\r\n        }\r\n\r\n        setMouFile(null);\r\n\r\n        await Swal.fire({\r\n          title: \"MOU berhasil dikirim\",\r\n          text: \"Silahkan tunggu persetujuan dari admin.\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          customClass: {\r\n            confirmButton:\r\n              \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n            popup: \"rounded-xl\",\r\n          },\r\n          buttonsStyling: false,\r\n        });\r\n      } catch (error: any) {\r\n        await Swal.fire({\r\n          title: \"Gagal Mengirim MOU\",\r\n          text: error.message || \"Terjadi kesalahan saat mengirim MOU\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n          customClass: {\r\n            confirmButton:\r\n              \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n            popup: \"rounded-xl\",\r\n          },\r\n          buttonsStyling: false,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const [pelaksanaanAgree, setPelaksanaanAgree] = useState<boolean>(false);\r\n  const [logbookLink, setLogbookLink] = useState<string>(\"\");\r\n  const [isLogbookSubmitted, setIsLogbookSubmitted] = useState<boolean>(false);\r\n  const [isEditingLogbook, setIsEditingLogbook] = useState<boolean>(false);\r\n  const [pelaksanaanModules, setPelaksanaanModules] = useState<ModulItem[]>([]);\r\n  const [modulLoading, setModulLoading] = useState<boolean>(false);\r\n  const [modulError, setModulError] = useState<string | null>(null);\r\n\r\n  // Fetch modul saat MOU sudah disetujui\r\n  useEffect(() => {\r\n    const loadModuls = async () => {\r\n      // Hanya fetch jika MOU sudah disetujui\r\n      if (mouDecision !== \"disetujui\") return;\r\n      try {\r\n        setModulLoading(true);\r\n        const moduls = await fetchAllModul();\r\n        setPelaksanaanModules(moduls || []);\r\n        setModulError(null);\r\n      } catch (e: any) {\r\n        setModulError(e.message || \"Gagal memuat modul\");\r\n      } finally {\r\n        setModulLoading(false);\r\n      }\r\n    };\r\n    loadModuls();\r\n  }, [mouDecision]);\r\n\r\n  // Ambil sertifikat dari layananData (sudah di-include saat fetch layanan)\r\n  useEffect(() => {\r\n    if (!layananData) {\r\n      return;\r\n    }\r\n\r\n    // Auto-set laporanSubmitted jika pelaksanaan sudah selesai\r\n    if (pelaksanaanDecision === \"selesai\") {\r\n      setLaporanSubmitted(true);\r\n    }\r\n\r\n    // Ambil sertifikat dari layananData\r\n    const sertifikatFromLayanan = Array.isArray(layananData.sertifikat)\r\n      ? layananData.sertifikat[0]\r\n      : layananData.sertifikat;\r\n\r\n    if (sertifikatFromLayanan && sertifikatFromLayanan.file_sertifikat) {\r\n      setSertifikatData(sertifikatFromLayanan as any);\r\n      setSertifikatDecision(\"selesai\");\r\n      setSertifikatError(null);\r\n    } else {\r\n      // Sertifikat belum diupload - ini normal\r\n      setSertifikatData(null);\r\n      setSertifikatDecision(\"menunggu\");\r\n    }\r\n  }, [layananData, pelaksanaanDecision]);\r\n\r\n  const handleLogbookLinkChange: React.ChangeEventHandler<HTMLInputElement> = (\r\n    e\r\n  ) => {\r\n    setLogbookLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmitLogbook = async () => {\r\n    if (!logbookLink.trim()) {\r\n      const Swal = (await import(\"sweetalert2\")).default;\r\n      await Swal.fire({\r\n        title: \"Link Logbook Kosong\",\r\n        text: \"Silakan masukkan link logbook terlebih dahulu.\",\r\n        icon: \"warning\",\r\n        confirmButtonText: \"OK\",\r\n        customClass: {\r\n          confirmButton:\r\n            \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n          popup: \"rounded-xl\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const Swal = (await import(\"sweetalert2\")).default;\r\n    const result = await Swal.fire({\r\n      title: \"Kirim Link Logbook?\",\r\n      text: \"Apakah Anda yakin ingin mengirim link logbook ini?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Ya, Kirim\",\r\n      cancelButtonText: \"Batal\",\r\n      reverseButtons: true,\r\n      customClass: {\r\n        confirmButton:\r\n          \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n        cancelButton:\r\n          \"swal2-cancel border border-[#E8E2DB] text-[#3B3B3B] px-6 py-2 rounded-lg\",\r\n        popup: \"rounded-xl\",\r\n      },\r\n      buttonsStyling: false,\r\n    });\r\n\r\n    if (result.isConfirmed) {\r\n      try {\r\n        // Call API to submit or update logbook (both use PUT)\r\n        if (isLogbookSubmitted && !isEditingLogbook) {\r\n          // Jika sudah pernah submit, tidak perlu update lagi\r\n          return;\r\n        }\r\n\r\n        // Both create and update use the same PUT endpoint\r\n        await submitLogbook(Number(layananId), {\r\n          id_layanan: Number(layananId),\r\n          link_logbook: logbookLink,\r\n        });\r\n\r\n        setIsLogbookSubmitted(true);\r\n        setIsEditingLogbook(false);\r\n\r\n        await Swal.fire({\r\n          title: \"Logbook Berhasil Dikirim\",\r\n          text: \"Link logbook Anda telah berhasil dikirim.\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          customClass: {\r\n            confirmButton:\r\n              \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n            popup: \"rounded-xl\",\r\n          },\r\n          buttonsStyling: false,\r\n        });\r\n      } catch (error: any) {\r\n        await Swal.fire({\r\n          title: \"Gagal Mengirim Logbook\",\r\n          text: error.message || \"Terjadi kesalahan saat mengirim logbook.\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n          customClass: {\r\n            confirmButton:\r\n              \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n            popup: \"rounded-xl\",\r\n          },\r\n          buttonsStyling: false,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditLogbook = () => {\r\n    setIsEditingLogbook(true);\r\n  };\r\n\r\n  const [laporanForm, setLaporanForm] = useState({\r\n    namaP4s: \"\",\r\n    kota: \"\",\r\n    jenisKegiatan: \"pelatihan\",\r\n    asalPeserta: \"\",\r\n    jumlahPeserta: \"\",\r\n    tanggalPelaksanaan: \"\",\r\n    lamaPelaksanaan: \"\",\r\n  });\r\n  const [fotoKegiatan, setFotoKegiatan] = useState<File | null>(null);\r\n  const fotoInputRef = useRef<HTMLInputElement | null>(null);\r\n  const handlePickFoto = () => fotoInputRef.current?.click();\r\n  const handleFotoChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    const f = e.target.files?.[0] ?? null;\r\n    setFotoKegiatan(f);\r\n  };\r\n  const handleLaporanChange: React.ChangeEventHandler<\r\n    HTMLInputElement | HTMLSelectElement\r\n  > = (e) => {\r\n    const { name, value } = e.target;\r\n    setLaporanForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const [successOpen, setSuccessOpen] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [laporanSubmitted, setLaporanSubmitted] = useState(false);\r\n  const [sertifikatData, setSertifikatData] = useState<SertifikatItem | null>(\r\n    null\r\n  );\r\n  const [sertifikatLoading, setSertifikatLoading] = useState<boolean>(false);\r\n  const [sertifikatError, setSertifikatError] = useState<string | null>(null);\r\n  const scrollToSertifikat = () => {\r\n    if (typeof window !== \"undefined\") {\r\n      document\r\n        .getElementById(\"sertifikat-section\")\r\n        ?.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  };\r\n  const scrollToLaporan = () => {\r\n    if (typeof window !== \"undefined\") {\r\n      document\r\n        .getElementById(\"laporan-section\")\r\n        ?.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  };\r\n  const handleSubmitLaporan = async () => {\r\n    const Swal = (await import(\"sweetalert2\")).default;\r\n\r\n    // Validasi form\r\n    if (\r\n      !laporanForm.namaP4s ||\r\n      !laporanForm.kota ||\r\n      !laporanForm.jenisKegiatan ||\r\n      !laporanForm.asalPeserta ||\r\n      !laporanForm.jumlahPeserta ||\r\n      !laporanForm.tanggalPelaksanaan ||\r\n      !laporanForm.lamaPelaksanaan ||\r\n      !fotoKegiatan\r\n    ) {\r\n      await Swal.fire({\r\n        title: \"Form Tidak Lengkap\",\r\n        text: \"Mohon lengkapi semua field yang wajib diisi.\",\r\n        icon: \"warning\",\r\n        confirmButtonText: \"OK\",\r\n        customClass: {\r\n          confirmButton:\r\n            \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n          popup: \"rounded-xl\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const result = await Swal.fire({\r\n      title: \"Yakin Mengirimkan Laporan Akhir ?\",\r\n      text: \"Apakah Anda yakin ingin mengirimkan laporan akhir kegiatan ini? Setelah dikirim Anda dapat langsung mengunduh sertifikat.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Ya, Submit\",\r\n      cancelButtonText: \"Batal\",\r\n      reverseButtons: true,\r\n      customClass: {\r\n        confirmButton:\r\n          \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n        cancelButton:\r\n          \"swal2-cancel border border-[#E8E2DB] text-[#3B3B3B] px-6 py-2 rounded-lg\",\r\n        popup: \"rounded-xl\",\r\n      },\r\n      buttonsStyling: false,\r\n    });\r\n    if (!result.isConfirmed) return;\r\n\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      await createLaporanLayanan({\r\n        id_layanan: Number(layananId),\r\n        nama_p4s: laporanForm.namaP4s,\r\n        asal_kab_kota: laporanForm.kota,\r\n        foto_kegiatan: fotoKegiatan,\r\n      });\r\n\r\n      setSubmitting(false);\r\n      // setSuccessOpen(true); // Removed: laporan tidak diverifikasi admin\r\n      setLaporanSubmitted(true);\r\n      setLaporanDecision(\"disetujui\" as typeof laporanDecision); // Auto-approve laporan\r\n      scrollToSertifikat();\r\n    } catch (error: any) {\r\n      setSubmitting(false);\r\n      await Swal.fire({\r\n        title: \"Gagal Mengirim Laporan\",\r\n        text: error.message || \"Terjadi kesalahan saat mengirim laporan.\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"OK\",\r\n        customClass: {\r\n          confirmButton:\r\n            \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n          popup: \"rounded-xl\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const pengajuanDecisionText: Record<typeof pengajuanDecision, string> = {\r\n    menunggu: \"Menunggu Persetujuan\",\r\n    disetujui: \"Disetujui\",\r\n    ditolak: \"Ditolak\",\r\n  };\r\n\r\n  const decisionTextMap = {\r\n    menunggu: \"Belum Terlaksana\",\r\n    disetujui: \"Disetujui\",\r\n    ditolak: \"Ditolak\",\r\n    berjalan: \"Sedang Berjalan\",\r\n    selesai: \"Selesai\",\r\n  } as const;\r\n\r\n  const stepStatuses: Array<\r\n    \"menunggu\" | \"disetujui\" | \"ditolak\" | \"berjalan\" | \"selesai\"\r\n  > = [\r\n    pengajuanDecision,\r\n    mouDecision,\r\n    pelaksanaanDecision,\r\n    laporanDecision,\r\n    sertifikatDecision,\r\n  ];\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <>\r\n        <div className=\"min-h-screen bg-tertiary pt-24 md:pt-28\">\r\n          <div className=\"container mx-auto px-4 max-w-6xl py-10\">\r\n            <div className=\"mb-4\">\r\n              <Link\r\n                href=\"/layanan\"\r\n                className=\"flex items-center text-amber-600 hover:text-amber-700 transition-colors\"\r\n              >\r\n                <ArrowLeft size={20} className=\"mr-2\" />\r\n                <span className=\"font-medium\">Kembali ke Layanan</span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"animate-pulse space-y-4\">\r\n              <div className=\"h-8 bg-gray-200 rounded w-3/4 mx-auto\"></div>\r\n              <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n              <div className=\"h-96 bg-gray-200 rounded\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error || !layananData) {\r\n    return (\r\n      <>\r\n        <div className=\"min-h-screen bg-tertiary pt-24 md:pt-28\">\r\n          <div className=\"container mx-auto px-4 max-w-6xl py-10\">\r\n            <div className=\"mb-4\">\r\n              <Link\r\n                href=\"/layanan\"\r\n                className=\"flex items-center text-amber-600 hover:text-amber-700 transition-colors\"\r\n              >\r\n                <ArrowLeft size={20} className=\"mr-2\" />\r\n                <span className=\"font-medium\">Kembali ke Layanan</span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"rounded-xl border border-red-200 bg-red-50 p-6 text-center\">\r\n              <XCircle className=\"mx-auto mb-3 text-red-500\" size={48} />\r\n              <h2 className=\"text-xl font-semibold text-red-800 mb-2\">\r\n                Gagal Memuat Data\r\n              </h2>\r\n              <p className=\"text-red-600 mb-4\">\r\n                {error || \"Data layanan tidak ditemukan\"}\r\n              </p>\r\n              <Link\r\n                href=\"/layanan\"\r\n                className=\"inline-flex items-center rounded-lg bg-red-600 text-white px-4 py-2 hover:bg-red-700\"\r\n              >\r\n                Kembali ke Layanan\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-tertiary pt-16 md:pt-20\">\r\n        <div className=\"container mx-auto px-5 max-w-5l py-20\">\r\n          <div className=\"mb-4 \">\r\n            <Link\r\n              href=\"/layanan\"\r\n              className=\"flex items-center text-amber-600 hover:text-amber-700 transition-colors\"\r\n            >\r\n              <ArrowLeft size={20} className=\"mr-2\" />\r\n              <span className=\"font-medium\">Kembali ke Layanan</span>\r\n            </Link>\r\n          </div>\r\n          {/* Decision Test */}\r\n          {/* <div className=\"mb-4 rounded-lg border border-[#E8E2DB] bg-white p-3 text-[12px] text-[#3B3B3B]\">\r\n            <p className=\"font-semibold mb-2\">Decision Test</p>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n              <label className=\"flex items-center gap-2\">\r\n                <span className=\"w-28\">Pengajuan</span>\r\n                <select\r\n                  className=\"flex-1 rounded-md border border-[#E8E2DB] px-2 py-1\"\r\n                  value={pengajuanDecision}\r\n                  onChange={(e) =>\r\n                    setPengajuanDecision(\r\n                      e.target.value as typeof pengajuanDecision\r\n                    )\r\n                  }\r\n                >\r\n                  <option value=\"menunggu\">menunggu</option>\r\n                  <option value=\"disetujui\">disetujui</option>\r\n                  <option value=\"ditolak\">ditolak</option>\r\n                </select>\r\n              </label>\r\n              <label className=\"flex items-center gap-2\">\r\n                <span className=\"w-28\">MOU</span>\r\n                <select\r\n                  className=\"flex-1 rounded-md border border-[#E8E2DB] px-2 py-1\"\r\n                  value={mouDecision}\r\n                  onChange={(e) =>\r\n                    setMouDecision(e.target.value as typeof mouDecision)\r\n                  }\r\n                >\r\n                  <option value=\"menunggu\">menunggu</option>\r\n                  <option value=\"disetujui\">disetujui</option>\r\n                  <option value=\"ditolak\">ditolak</option>\r\n                </select>\r\n              </label>\r\n              <label className=\"flex items-center gap-2\">\r\n                <span className=\"w-28\">Pelaksanaan</span>\r\n                <select\r\n                  className=\"flex-1 rounded-md border border-[#E8E2DB] px-2 py-1\"\r\n                  value={pelaksanaanDecision}\r\n                  onChange={(e) =>\r\n                    setPelaksanaanDecision(\r\n                      e.target.value as typeof pelaksanaanDecision\r\n                    )\r\n                  }\r\n                >\r\n                  <option value=\"menunggu\">menunggu</option>\r\n                  <option value=\"berjalan\">berjalan</option>\r\n                  <option value=\"selesai\">selesai</option>\r\n                </select>\r\n              </label>\r\n              <label className=\"flex items-center gap-2\">\r\n                <span className=\"w-28\">Laporan</span>\r\n                <select\r\n                  className=\"flex-1 rounded-md border border-[#E8E2DB] px-2 py-1\"\r\n                  value={laporanDecision}\r\n                  onChange={(e) =>\r\n                    setLaporanDecision(e.target.value as typeof laporanDecision)\r\n                  }\r\n                >\r\n                  <option value=\"menunggu\">menunggu</option>\r\n                  <option value=\"disetujui\">disetujui</option>\r\n                  <option value=\"ditolak\">ditolak</option>\r\n                </select>\r\n              </label>\r\n              <label className=\"flex items-center gap-2\">\r\n                <span className=\"w-28\">Sertifikat</span>\r\n                <select\r\n                  className=\"flex-1 rounded-md border border-[#E8E2DB] px-2 py-1\"\r\n                  value={sertifikatDecision}\r\n                  onChange={(e) =>\r\n                    setSertifikatDecision(\r\n                      e.target.value as typeof sertifikatDecision\r\n                    )\r\n                  }\r\n                >\r\n                  <option value=\"menunggu\">menunggu</option>\r\n                  <option value=\"selesai\">selesai</option>\r\n                  <option value=\"ditolak\">ditolak</option>\r\n                </select>\r\n              </label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  className=\"rounded-md border border-[#E8E2DB] px-3 py-1\"\r\n                  onClick={() => setLaporanSubmitted((v) => !v)}\r\n                >\r\n                  toggle laporanSubmitted ({laporanSubmitted ? \"true\" : \"false\"}\r\n                  )\r\n                </button>\r\n                <button\r\n                  className=\"rounded-md border border-[#E8E2DB] px-3 py-1\"\r\n                  onClick={() => setPelaksanaanAgree((v) => !v)}\r\n                >\r\n                  toggle pelaksanaanAgree ({pelaksanaanAgree ? \"true\" : \"false\"}\r\n                  )\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div> */}\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-center text-2xl md:text-[22px] font-semibold text-[#3B3B3B]\">\r\n              Detail Pelaksanaan Pelatihan Kopi\r\n            </h1>\r\n          </div>\r\n\r\n          <div className=\" fumt-4 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"rounded-xl border border-[#E8E2DB] bg-white p-4 md:p-6\">\r\n              <div className=\"flex flex-col items-center gap-2 text-center\">\r\n                <div className=\"w-10 h-10 rounded-lg border border-[#E8E2DB] flex items-center justify-center\">\r\n                  <Check className=\"text-primary\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                    Progres Kegiatan\r\n                  </p>\r\n                  <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                    Pantau Status Pelaksanaan Kegiatan Anda\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4 space-y-3\">\r\n                {steps.map((s, idx) => {\r\n                  const Icon = s.icon;\r\n                  const firstNonApprovedIndex = stepStatuses.findIndex(\r\n                    (st) => st !== \"disetujui\" && st !== \"selesai\"\r\n                  );\r\n                  const activeStepIndex =\r\n                    firstNonApprovedIndex === -1\r\n                      ? stepStatuses.length\r\n                      : firstNonApprovedIndex;\r\n                  const isActive = idx === activeStepIndex;\r\n                  const isCompleted =\r\n                    idx < activeStepIndex &&\r\n                    (stepStatuses[idx] === \"disetujui\" ||\r\n                      stepStatuses[idx] === \"selesai\");\r\n                  const status = stepStatuses[idx];\r\n                  const containerClass = isActive\r\n                    ? status === \"disetujui\"\r\n                      ? \"bg-[#EAF8F0] border-[#D2EBDD]\"\r\n                      : status === \"ditolak\"\r\n                      ? \"bg-[#FEE2E2] border-[#F87171]\"\r\n                      : \"bg-[#EDE6DF] border-[#E0D8D1]\"\r\n                    : isCompleted\r\n                    ? \"bg-[#F3FBF7] border-[#CFEAD9]\"\r\n                    : \"bg-white border-[#EFEAE4]\";\r\n\r\n                  const iconWrapClass = isActive\r\n                    ? status === \"disetujui\"\r\n                      ? \"bg-[#E2F3EA] border-[#CBE6D7]\"\r\n                      : status === \"ditolak\"\r\n                      ? \"bg-[#FEE2E2] border-[#EF4444]\"\r\n                      : \"bg-[#DCD3CB] border-[#CFC6BE]\"\r\n                    : isCompleted\r\n                    ? \"bg-[#E9F7F0] border-[#CBE6D7]\"\r\n                    : \"bg-[#F4F0EC] border-[#E8E2DB]\";\r\n\r\n                  const iconColorClass = isActive\r\n                    ? status === \"disetujui\"\r\n                      ? \"text-[#2F8A57]\"\r\n                      : status === \"ditolak\"\r\n                      ? \"text-[#CD0300]\"\r\n                      : \"text-[#3B3B3B]\"\r\n                    : isCompleted\r\n                    ? \"text-[#2F8A57]\"\r\n                    : \"text-[#6B6B6B]\";\r\n\r\n                  const descColorClass =\r\n                    s.name === \"Pengajuan\"\r\n                      ? pengajuanDecision === \"disetujui\"\r\n                        ? \"text-[#2F8A57]\"\r\n                        : pengajuanDecision === \"ditolak\"\r\n                        ? \"text-[#CD0300]\"\r\n                        : \"text-[#6B6B6B]\"\r\n                      : stepStatuses[idx] === \"disetujui\" ||\r\n                        stepStatuses[idx] === \"selesai\"\r\n                      ? \"text-[#2F8A57]\"\r\n                      : stepStatuses[idx] === \"ditolak\"\r\n                      ? \"text-[#CD0300]\"\r\n                      : stepStatuses[idx] === \"berjalan\"\r\n                      ? \"text-[#3B3B3B]\"\r\n                      : \"text-[#6B6B6B]\";\r\n\r\n                  return (\r\n                    <div\r\n                      key={s.name}\r\n                      className={`rounded-lg border text-left p-3 ${containerClass}`}\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div\r\n                          className={`w-9 h-9 rounded-lg border flex items-center justify-center ${iconWrapClass}`}\r\n                        >\r\n                          <Icon className={iconColorClass} size={18} />\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                            {s.name}\r\n                          </p>\r\n                          <p className={`text-[12px] ${descColorClass}`}>\r\n                            {s.name === \"Pengajuan\"\r\n                              ? pengajuanDecisionText[pengajuanDecision]\r\n                              : decisionTextMap[stepStatuses[idx]]}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2 rounded-xl border border-[#E8E2DB] bg-white p-4 md:p-6\">\r\n              <p className=\"text-[15px] md:text-base font-semibold text-[#3B3B3B]\">\r\n                Ringkasan Pengajuan & Dokumen\r\n              </p>\r\n              <p className=\"text-[12px] text-[#6B6B6B] mb-3\">\r\n                Detail informasi dan Dokumen yang telah anda Submit\r\n              </p>\r\n\r\n              {/* Status Badge Pengajuan */}\r\n              {(() => {\r\n                const status =\r\n                  layananData?.pengajuan?.nama_status_kode?.toLowerCase() || \"\";\r\n                const isApproved = status.includes(\"disetujui\");\r\n                const isRejected = status.includes(\"ditolak\");\r\n                const isPending = status.includes(\"menunggu\");\r\n\r\n                if (!isPending && (isApproved || isRejected)) {\r\n                  return (\r\n                    <div\r\n                      className={`mb-3 rounded-lg border-2 p-4 shadow-sm ${\r\n                        isApproved\r\n                          ? \"bg-green-50 border-green-400\"\r\n                          : \"bg-red-100 border-red-500\"\r\n                      }`}\r\n                    >\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        {isApproved ? (\r\n                          <CheckCircle2 className=\"text-green-600\" size={20} />\r\n                        ) : (\r\n                          <XCircle className=\"text-red-600\" size={20} />\r\n                        )}\r\n                        <p\r\n                          className={`text-sm font-semibold ${\r\n                            isApproved ? \"text-green-800\" : \"text-red-800\"\r\n                          }`}\r\n                        >\r\n                          Pengajuan {isApproved ? \"Disetujui\" : \"Ditolak\"}\r\n                        </p>\r\n                      </div>\r\n                      <p\r\n                        className={`text-[12px] ${\r\n                          isApproved ? \"text-green-700\" : \"text-red-700\"\r\n                        }`}\r\n                      >\r\n                        {isApproved\r\n                          ? \"Pengajuan Anda telah disetujui oleh admin. Silakan lanjutkan ke tahap berikutnya.\"\r\n                          : \"Pengajuan Anda ditolak oleh admin. Silakan lihat alasan penolakan di bawah.\"}\r\n                      </p>\r\n\r\n                      {/* Alasan Penolakan */}\r\n                      {isRejected &&\r\n                        (() => {\r\n                          const rejection = layananData?.layananRejection;\r\n                          const alasan = Array.isArray(rejection)\r\n                            ? rejection[0]?.alasan\r\n                            : rejection?.alasan ||\r\n                              layananData?.pengajuanRejection?.alasan ||\r\n                              layananData?.rejection?.alasan ||\r\n                              layananData?.pengajuan?.alasan_penolakan ||\r\n                              layananData?.alasan_penolakan;\r\n\r\n                          return alasan ? (\r\n                            <div className=\"mt-3 rounded-lg bg-white border border-red-200 p-3\">\r\n                              <p className=\"text-[12px] font-semibold text-red-800 mb-1\">\r\n                                Alasan Penolakan:\r\n                              </p>\r\n                              <p className=\"text-[12px] text-red-700 whitespace-pre-wrap\">\r\n                                {alasan}\r\n                              </p>\r\n                            </div>\r\n                          ) : null;\r\n                        })()}\r\n\r\n                      {/* Tombol Ajukan Ulang */}\r\n                      {isRejected && (\r\n                        <div className=\"mt-3\">\r\n                          <Link\r\n                            href=\"/layanan\"\r\n                            className=\"inline-flex items-center rounded-lg bg-[#CD0300] text-white px-4 py-2 text-[12px] hover:opacity-90 w-full justify-center\"\r\n                          >\r\n                            Ajukan Ulang\r\n                          </Link>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                }\r\n                return null;\r\n              })()}\r\n\r\n              <div className=\"rounded-lg border border-[#E8E2DB] p-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-3\">\r\n                    {infoKiri.map((it) => (\r\n                      <div key={it.label}>\r\n                        <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                          {it.label}\r\n                        </p>\r\n                        <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                          {valueOrDash(it.value)}\r\n                        </p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {infoKanan.map((it) => (\r\n                      <div key={it.label}>\r\n                        <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                          {it.label}\r\n                        </p>\r\n                        <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                          {valueOrDash(it.value)}\r\n                        </p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <p className=\"mt-5 text-[13px] font-semibold text-[#3B3B3B]\">\r\n                Dokumen yang diupload\r\n              </p>\r\n              <div className=\"mt-3 space-y-3\">\r\n                {dokumen\r\n                  .filter((d) => !!(d.file && d.file.trim() !== \"\"))\r\n                  .map((d) => (\r\n                    <div\r\n                      key={d.label}\r\n                      className=\"flex items-center justify-between rounded-lg border border-[#E8E2DB] bg-white p-3\"\r\n                    >\r\n                      <div>\r\n                        <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                          {d.label}\r\n                        </p>\r\n                        <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                          {d.label}.pdf\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {(() => {\r\n                          const url = resolveFileUrl(d.file);\r\n                          return (\r\n                            <>\r\n                              <button\r\n                                onClick={() => openFile(url)}\r\n                                disabled={!url}\r\n                                className=\"inline-flex items-center gap-1 rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8] disabled:opacity-40 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <Eye size={16} /> Lihat\r\n                              </button>\r\n                              <button\r\n                                onClick={() => downloadFile(url, d.file)}\r\n                                disabled={!url}\r\n                                className=\"inline-flex items-center gap-1 rounded-lg bg-primary text-white px-3 py-2 text-[12px] hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed\"\r\n                              >\r\n                                <Download size={16} /> Download\r\n                              </button>\r\n                            </>\r\n                          );\r\n                        })()}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n\r\n                {/* Dokumen MOU - Tampilkan jika file MOU tersedia (apapun statusnya) */}\r\n                {(() => {\r\n                  const resolved = resolveFileUrl(layananData?.mou?.file_mou);\r\n                  if (typeof window !== \"undefined\") {\r\n                    console.log(\r\n                      \"[DetailPelaksanaanPelatihan] render MOU, raw:\",\r\n                      layananData?.mou?.file_mou,\r\n                      \"resolved:\",\r\n                      resolved\r\n                    );\r\n                  }\r\n                  return !!resolved;\r\n                })() && (\r\n                  <div className=\"flex items-center justify-between rounded-lg border border-[#E8E2DB] bg-white p-3\">\r\n                    <div>\r\n                      <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                        Memorandum of Understanding\r\n                      </p>\r\n                      <p className=\"text-[12px] text-[#6B6B6B]\">MOU.pdf</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {(() => {\r\n                        const url = resolveFileUrl(layananData?.mou?.file_mou);\r\n                        return (\r\n                          <>\r\n                            <button\r\n                              onClick={() => openFile(url)}\r\n                              disabled={!url}\r\n                              className=\"inline-flex items-center gap-1 rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8] disabled:opacity-40 disabled:cursor-not-allowed\"\r\n                            >\r\n                              <Eye size={16} /> Lihat\r\n                            </button>\r\n                            <button\r\n                              onClick={() => downloadFile(url, \"MOU.pdf\")}\r\n                              disabled={!url}\r\n                              className=\"inline-flex items-center gap-1 rounded-lg bg-primary text-white px-3 py-2 text-[12px] hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed\"\r\n                            >\r\n                              <Download size={16} /> Download\r\n                            </button>\r\n                          </>\r\n                        );\r\n                      })()}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {pengajuanDecision === \"ditolak\" && (\r\n        <div className=\"container mx-auto px-4 max-w-6xl mt-4 mb-6\">\r\n          <div className=\"rounded-xl border border-[#F0CFCF] bg-[#FFF6F6] p-6 shadow-sm\">\r\n            <div className=\"mx-auto mb-3 w-12 h-12 rounded-lg border border-[#F0C3C3] bg-[#FBECEC] flex items-center justify-center\">\r\n              <XCircle className=\"text-[#CD0300]\" />\r\n            </div>\r\n            <p className=\"text-[15px] md:text-base font-semibold text-[#CD0300] text-center\">\r\n              Pengajuan Ditolak\r\n            </p>\r\n            <p className=\"mt-2 text-[12px] text-[#6B6B6B] text-center\">\r\n              Pengajuan Anda ditolak oleh admin. Silakan perbaiki sesuai catatan\r\n              di bawah dan ajukan kembali.\r\n            </p>\r\n\r\n            {/* Alasan Penolakan dari API */}\r\n            {(() => {\r\n              const rejection = layananData?.layananRejection;\r\n              const alasan =\r\n                (Array.isArray(rejection)\r\n                  ? rejection[0]?.alasan\r\n                  : rejection?.alasan) ||\r\n                layananData?.pengajuanRejection?.alasan ||\r\n                layananData?.rejection?.alasan ||\r\n                layananData?.pengajuan?.alasan_penolakan ||\r\n                layananData?.alasan_penolakan;\r\n\r\n              return alasan ? (\r\n                <div className=\"mt-4 rounded-lg border border-[#F0C3C3] bg-white p-4 text-left\">\r\n                  <p className=\"text-sm font-semibold text-[#CD0300] mb-2\">\r\n                    Alasan Penolakan:\r\n                  </p>\r\n                  <p className=\"text-[12px] text-[#3B3B3B] whitespace-pre-wrap\">\r\n                    {alasan}\r\n                  </p>\r\n                </div>\r\n              ) : null;\r\n            })()}\r\n\r\n            <div className=\"mt-4 text-center\">\r\n              <Link\r\n                href=\"/layanan\"\r\n                className=\"inline-flex items-center rounded-lg bg-[#CD0300] text-white px-4 py-2 text-[12px] hover:opacity-90\"\r\n              >\r\n                Ajukan Ulang\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {pengajuanDecision === \"disetujui\" &&\r\n        mouDecision !== (\"disetujui\" as typeof mouDecision) && (\r\n          <div className=\"container mx-auto px-4 max-w-5l mb-6\">\r\n            <div\r\n              className={`rounded-xl border bg-white p-5 md:p-6 transition-shadow ${\r\n                mouDecision === \"ditolak\"\r\n                  ? \"border-[#F0CFCF] hover:shadow-md\"\r\n                  : \"border-[#CFEAD9] hover:shadow-md\"\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <span\r\n                  className={`w-5 h-5 rounded-full border flex items-center justify-center ${\r\n                    mouDecision === \"ditolak\"\r\n                      ? \"border-[#F0C3C3] bg-[#FBECEC]\"\r\n                      : \"border-[#CBE6D7] bg-[#E9F7F0]\"\r\n                  }`}\r\n                >\r\n                  <Handshake\r\n                    size={14}\r\n                    className={\r\n                      mouDecision === \"ditolak\"\r\n                        ? \"text-[#CD0300]\"\r\n                        : \"text-[#2F8A57]\"\r\n                    }\r\n                  />\r\n                </span>\r\n                <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                  Memorandum Of Understanding\r\n                </p>\r\n              </div>\r\n              <p className=\"text-[12px] text-[#6B6B6B] mb-4\">\r\n                Pengajuan anda telah disetujui. Silahkan download template MOU\r\n                dan upload kembali setelah ditandatangani.\r\n              </p>\r\n\r\n              <div className=\"grid grid-cols-1 gap-4\">\r\n                <div className=\"rounded-lg border border-[#E8E2DB] bg-[#F7F4F0] p-4\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Info size={16} className=\"text-[#3B3B3B]\" />\r\n                    <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                      Panduan Pengisian\r\n                    </p>\r\n                  </div>\r\n                  <ol className=\"list-decimal pl-5 text-[12px] text-[#6B6B6B] space-y-1\">\r\n                    <li>\r\n                      Unduh Template MOU sesuai dengan detail pengajuan anda.\r\n                    </li>\r\n                    <li>\r\n                      Isi data yang diperlukan sesuai petunjuk pada berkas.\r\n                    </li>\r\n                    <li>\r\n                      Tanda tangani berkas oleh pihak terkait yang berwenang.\r\n                    </li>\r\n                    <li>Scan dokumen ke format PDF/JPG/DOCX (max 10MB).</li>\r\n                    <li>\r\n                      Unggah berkas yang telah ditandatangani pada bagian Upload\r\n                      MOU.\r\n                    </li>\r\n                  </ol>\r\n                </div>\r\n\r\n                {mouDecision === \"ditolak\" && (\r\n                  <div className=\"rounded-lg border border-[#F0CFCF] bg-[#FFF6F6] p-4\">\r\n                    <p className=\"text-sm font-semibold text-[#CD0300] mb-2\">\r\n                      Alasan Penolakan MOU\r\n                    </p>\r\n                    <p className=\"text-[12px] text-[#3B3B3B] whitespace-pre-wrap\">\r\n                      {layananData?.mou?.mouRejection?.alasan ||\r\n                        \"MoU tidak memenuhi persyaratan yang ditetapkan.\"}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"rounded-lg border border-[#E8E2DB] bg-white p-4\">\r\n                  <p className=\"text-sm font-semibold text-[#3B3B3B] mb-2\">\r\n                    Download Template MOU\r\n                  </p>\r\n                  <div className=\"flex flex-wrap items-center gap-2\">\r\n                    <button className=\"inline-flex items-center gap-1 rounded-lg bg-primary text-white px-3 py-2 text-[12px] hover:opacity-90\">\r\n                      <Download size={16} /> Download Template MOU\r\n                    </button>\r\n                    <button className=\"inline-flex items-center gap-1 rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8]\">\r\n                      <Eye size={16} /> Preview MOU\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tampilkan section upload hanya jika: belum upload MOU ATAU MOU ditolak */}\r\n                {(mouDecision === \"ditolak\" || !layananData?.mou?.file_mou) && (\r\n                  <div className=\"rounded-lg border border-[#E8E2DB] bg-white p-4\">\r\n                    <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                      {mouDecision === \"ditolak\"\r\n                        ? \"Upload Ulang MOU\"\r\n                        : \"Upload MOU\"}\r\n                    </p>\r\n                    <p className=\"text-[12px] text-[#6B6B6B] mb-3\">\r\n                      {mouDecision === \"ditolak\"\r\n                        ? \"Perbaiki dan unggah ulang dokumen MOU sesuai catatan penolakan di atas\"\r\n                        : \"Unggah Dokumen MOU yang sudah dilengkapi sesuai dengan pengajuan layanan yang dipilih\"}\r\n                    </p>\r\n\r\n                    <div\r\n                      className=\"flex flex-col items-center justify-center gap-2 rounded-md border border-dashed border-[#B9B1A9] bg-[#F3EFEB] p-6 cursor-pointer\"\r\n                      onClick={handlePickMou}\r\n                    >\r\n                      <Upload className=\"text-[#6B6B6B]\" />\r\n                      <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                        {mouFile\r\n                          ? mouFile.name\r\n                          : mouDecision === \"ditolak\"\r\n                          ? \"Klik untuk Upload Ulang MOU\"\r\n                          : \"Klik untuk Upload MOU\"}\r\n                      </p>\r\n                      {!mouFile && (\r\n                        <p className=\"text-[11px] text-[#9A948E]\">\r\n                          Format: .pdf, .doc, .docx (Max: 10MB)\r\n                        </p>\r\n                      )}\r\n                      <input\r\n                        ref={mouInputRef}\r\n                        type=\"file\"\r\n                        accept=\".pdf,.doc,.docx\"\r\n                        className=\"hidden\"\r\n                        onChange={handleMouChange}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"mt-3 justify-center flex items-center gap-2\">\r\n                      <button\r\n                        className=\"inline-flex items-center gap-1 rounded-lg bg-[#5C3A1E] text-white px-3 py-2 text-[12px] hover:opacity-90\"\r\n                        onClick={handleSubmitMou}\r\n                      >\r\n                        {mouDecision === \"ditolak\"\r\n                          ? \"Submit Ulang MOU\"\r\n                          : \"Submit MOU\"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Tampilkan status menunggu review jika sudah upload dan status menunggu */}\r\n                {mouDecision === \"menunggu\" && layananData?.mou?.file_mou && (\r\n                  <div className=\"rounded-lg border border-[#FFF3CD] bg-[#FFF9E6] p-4 text-center\">\r\n                    <div className=\"mx-auto mb-2 w-10 h-10 rounded-lg border border-[#FFE69C] bg-[#FFF3CD] flex items-center justify-center\">\r\n                      <Info className=\"text-[#997404]\" />\r\n                    </div>\r\n                    <p className=\"text-sm font-semibold text-[#997404]\">\r\n                      MOU Menunggu Review Admin\r\n                    </p>\r\n                    <p className=\"mt-1 text-[12px] text-[#6B6B6B]\">\r\n                      MOU yang Anda unggah sedang dalam proses review oleh\r\n                      admin. Mohon tunggu konfirmasi.\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      {mouDecision === \"disetujui\" &&\r\n        pelaksanaanDecision !== (\"selesai\" as typeof pelaksanaanDecision) && (\r\n          <div className=\"container mx-auto px-4 max-w-5l mb-6\">\r\n            <div\r\n              className={`rounded-xl border bg-white p-5 md:p-6 ${\r\n                pelaksanaanDecision === \"selesai\"\r\n                  ? \"border-[#17cd59] hover:shadow-md transition-shadow\"\r\n                  : \"border-[#E8E2DB]\"\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <span className=\"w-5 h-5 rounded-full border border-[#E8E2DB] flex items-center justify-center\">\r\n                  <ClipboardList size={14} className=\"text-[#3B3B3B]\" />\r\n                </span>\r\n                <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                  Modul Pembelajaran Program\r\n                </p>\r\n              </div>\r\n              <p className=\"text-[12px] text-[#6B6B6B] mb-4\">\r\n                Akses semua materi pada modul pembelajaran pada layanan yang\r\n                dipilih\r\n              </p>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {modulLoading && (\r\n                  <div className=\"col-span-1 md:col-span-2 text-center text-[12px] text-[#6B6B6B]\">\r\n                    Memuat modul\r\n                  </div>\r\n                )}\r\n                {modulError && (\r\n                  <div className=\"col-span-1 md:col-span-2 text-center text-[12px] text-red-600\">\r\n                    {modulError}\r\n                  </div>\r\n                )}\r\n                {!modulLoading &&\r\n                  !modulError &&\r\n                  pelaksanaanModules.length === 0 && (\r\n                    <div className=\"col-span-1 md:col-span-2 text-center text-[12px] text-[#6B6B6B]\">\r\n                      Belum ada modul tersedia.\r\n                    </div>\r\n                  )}\r\n                {pelaksanaanModules.map((m) => (\r\n                  <div\r\n                    key={m.id}\r\n                    className=\"rounded-lg border border-[#E8E2DB] bg-white p-3 flex gap-3\"\r\n                  >\r\n                    <div className=\"w-20 h-20 rounded-md bg-[#F3EFEB] border border-dashed border-[#B9B1A9]\" />\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-[13px] font-semibold text-[#3B3B3B]\">\r\n                        {m.judul_modul}\r\n                      </p>\r\n                      <p className=\"text-[12px] text-[#675e5e]\">\r\n                        {m.deskripsi}\r\n                      </p>\r\n                      <div className=\"mt-2 flex items-center gap-2\">\r\n                        {m.file_modul && (\r\n                          <>\r\n                            <a\r\n                              href={m.file_modul}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"inline-flex items-center rounded-lg bg-[#5C3A1E] text-white px-3 py-1.5 text-[12px] hover:opacity-90\"\r\n                            >\r\n                              Akses Modul\r\n                            </a>\r\n                            <a\r\n                              href={m.file_modul}\r\n                              download\r\n                              className=\"inline-flex items-center rounded-lg border border-[#E8E2DB] px-3 py-1.5 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8]\"\r\n                            >\r\n                              Download PDF\r\n                            </a>\r\n                          </>\r\n                        )}\r\n                        {!m.file_modul && (\r\n                          <span className=\"text-[12px] text-[#9A948E]\">\r\n                            File modul belum tersedia\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Input link logbook */}\r\n              <div className=\"mt-4 rounded-lg border border-[#F0EAE3] bg-[#FBF9F7] p-4\">\r\n                <h3 className=\"text-sm font-semibold text-[#3B3B3B] mb-3\">\r\n                  Link Logbook\r\n                </h3>\r\n                <p className=\"text-[12px] text-[#6B6B6B] mb-4\">\r\n                  Masukkan link logbook\r\n                </p>\r\n\r\n                {isLogbookSubmitted && !isEditingLogbook ? (\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                      <p className=\"text-sm text-green-800 font-medium\">\r\n                        Link Logbook Terkirim\r\n                      </p>\r\n                      <p className=\"text-xs text-green-600 mt-1\">\r\n                        Status: Logbook telah dikirim\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg\">\r\n                      <p className=\"text-xs text-gray-600 mb-2\">\r\n                        Link yang dikirim:\r\n                      </p>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"url\"\r\n                          value={logbookLink}\r\n                          readOnly\r\n                          className=\"flex-1 rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B] focus:outline-none\"\r\n                        />\r\n                        <button\r\n                          onClick={() => window.open(logbookLink, \"_blank\")}\r\n                          className=\"inline-flex items-center rounded-lg bg-[#5C3A1E] text-white px-3 py-2 text-[12px] hover:opacity-90\"\r\n                        >\r\n                          Buka Link\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={handleEditLogbook}\r\n                        className=\"inline-flex items-center rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8]\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    <input\r\n                      type=\"url\"\r\n                      value={logbookLink}\r\n                      onChange={handleLogbookLinkChange}\r\n                      placeholder=\"Masukkan link logbook (contoh: https://drive.google.com/...)\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B] focus:outline-none focus:ring-2 focus:ring-[#5C3A1E] focus:border-transparent\"\r\n                    />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={handleSubmitLogbook}\r\n                        className=\"inline-flex items-center rounded-lg bg-[#5C3A1E] text-white px-4 py-2 text-[12px] hover:opacity-90\"\r\n                      >\r\n                        Kirim\r\n                      </button>\r\n                      {isEditingLogbook && (\r\n                        <button\r\n                          onClick={() => setIsEditingLogbook(false)}\r\n                          className=\"inline-flex items-center rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8]\"\r\n                        >\r\n                          Batal\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div\r\n                className={`mt-5 rounded-xl border p-6 text-center ${\r\n                  pelaksanaanDecision === \"selesai\"\r\n                    ? \"border-[#CFEAD9] bg-[#F3FBF7]\"\r\n                    : \"border-[#E8E2DB] bg-[#F8F6F3]\"\r\n                }`}\r\n              >\r\n                <div\r\n                  className={`mx-auto mb-2 w-10 h-10 rounded-lg border bg-white flex items-center justify-center ${\r\n                    pelaksanaanDecision === \"selesai\"\r\n                      ? \"border-[#CBE6D7]\"\r\n                      : \"border-[#E8E2DB]\"\r\n                  }`}\r\n                >\r\n                  <Check\r\n                    className={\r\n                      pelaksanaanDecision === \"selesai\"\r\n                        ? \"text-[#2F8A57]\"\r\n                        : \"text-primary\"\r\n                    }\r\n                  />\r\n                </div>\r\n                <p\r\n                  className={`text-sm font-semibold ${\r\n                    pelaksanaanDecision === \"selesai\"\r\n                      ? \"text-[#2F8A57]\"\r\n                      : \"text-[#3B3B3B]\"\r\n                  }`}\r\n                >\r\n                  Selesaikan Program\r\n                </p>\r\n                <p className=\"mt-1 text-[12px] text-[#6B6B6B]\">\r\n                  Setelah menyelesaikan semua kegiatan silahkan klik tombol\r\n                  dibawah untuk menyelesaikan program dan dapat mengajukan\r\n                  sertifikat\r\n                </p>\r\n                <div className=\"mt-3 flex items-center justify-center gap-3\">\r\n                  <label className=\"inline-flex items-center gap-2 text-[12px] text-[#3B3B3B]\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"accent-primary\"\r\n                      checked={pelaksanaanAgree}\r\n                      onChange={(e) => setPelaksanaanAgree(e.target.checked)}\r\n                    />\r\n                    Saya telah menyelesaikan kegiatan\r\n                  </label>\r\n                  <button\r\n                    className=\"inline-flex items-center rounded-lg bg-[#5C3A1E] text-white px-3 py-2 text-[12px] hover:opacity-90 disabled:opacity-40\"\r\n                    disabled={!pelaksanaanAgree}\r\n                    onClick={async () => {\r\n                      const Swal = (await import(\"sweetalert2\")).default;\r\n                      const result = await Swal.fire({\r\n                        title: \"Konfirmasi Selesaikan Program\",\r\n                        text: \"Apakah Anda yakin telah menyelesaikan semua kegiatan Program Pelatihan?\",\r\n                        icon: \"question\",\r\n                        showCancelButton: true,\r\n                        confirmButtonText: \"Ya, Selesaikan\",\r\n                        cancelButtonText: \"Batal\",\r\n                        reverseButtons: true,\r\n                        customClass: {\r\n                          confirmButton:\r\n                            \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n                          cancelButton:\r\n                            \"swal2-cancel border border-[#E8E2DB] text-[#3B3B3B] px-6 py-2 rounded-lg\",\r\n                          popup: \"rounded-xl\",\r\n                        },\r\n                        buttonsStyling: false,\r\n                      });\r\n                      if (result.isConfirmed) {\r\n                        try {\r\n                          // Update status pelaksanaan di backend\r\n                          await updateStatusPelaksanaan(\r\n                            Number(layananId),\r\n                            \"SELESAI\"\r\n                          );\r\n\r\n                          // Re-fetch layanan data to get updated status\r\n                          const updatedData = await fetchLayananById(\r\n                            Number(layananId),\r\n                            {\r\n                              include_jenis: true,\r\n                              include_peserta: true,\r\n                              include_mou: true,\r\n                              include_sertifikat: true,\r\n                              include_laporan: true,\r\n                            }\r\n                          );\r\n                          setLayananData(updatedData);\r\n\r\n                          setPelaksanaanDecision(\"selesai\");\r\n                          await Swal.fire({\r\n                            title: \"Kegiatan Berhasil Diselesaikan\",\r\n                            text: \"Status pelaksanaan telah diupdate. Silakan lanjutkan dengan mengisi laporan akhir.\",\r\n                            icon: \"success\",\r\n                            confirmButtonText: \"OK\",\r\n                            customClass: {\r\n                              confirmButton:\r\n                                \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n                              popup: \"rounded-xl\",\r\n                            },\r\n                            buttonsStyling: false,\r\n                          });\r\n                        } catch (error: any) {\r\n                          await Swal.fire({\r\n                            title: \"Gagal Menyelesaikan Kegiatan\",\r\n                            text:\r\n                              error.message ||\r\n                              \"Terjadi kesalahan saat mengupdate status.\",\r\n                            icon: \"error\",\r\n                            confirmButtonText: \"OK\",\r\n                            customClass: {\r\n                              confirmButton:\r\n                                \"swal2-confirm bg-[#5C3A1E] text-white px-6 py-2 rounded-lg\",\r\n                              popup: \"rounded-xl\",\r\n                            },\r\n                            buttonsStyling: false,\r\n                          });\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    Selesaikan Kegiatan\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      {pelaksanaanDecision === \"selesai\" &&\r\n        laporanDecision !== (\"disetujui\" as typeof laporanDecision) && (\r\n          <div\r\n            className=\"container mx-auto px-4 max-w-5l mb-6\"\r\n            id=\"laporan-section\"\r\n          >\r\n            <div className=\"rounded-xl border border-[#E8E2DB] bg-white p-5 md:p-6\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <span className=\"w-5 h-5 rounded-full border border-[#E8E2DB] flex items-center justify-center\">\r\n                  <FileCheck size={14} className=\"text-[#3B3B3B]\" />\r\n                </span>\r\n                <p className=\"text-sm font-semibold text-[#3B3B3B]\">\r\n                  Laporan Akhir Kegiatan\r\n                </p>\r\n              </div>\r\n              <p className=\"text-[12px] text-[#6B6B6B] mb-4\">\r\n                Lengkapi Formulir Laporan Akhir untuk Menyelesaikan Program dan\r\n                mendapatkan Sertifikat\r\n              </p>\r\n\r\n              <div className=\"rounded-lg border border-[#F0EAE3] bg-[#FBF9F7] p-4\">\r\n                <div className=\"space-y-3\">\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Nama P4S *\r\n                    </label>\r\n                    <input\r\n                      name=\"namaP4s\"\r\n                      value={laporanForm.namaP4s}\r\n                      onChange={handleLaporanChange}\r\n                      placeholder=\"Contoh : P4S Tani Makmur\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Kabupaten / Kota *\r\n                    </label>\r\n                    <input\r\n                      name=\"kota\"\r\n                      value={laporanForm.kota}\r\n                      onChange={handleLaporanChange}\r\n                      placeholder=\"Contoh : Kota Lumajang\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Jenis Kegiatan *\r\n                    </label>\r\n                    <select\r\n                      name=\"jenisKegiatan\"\r\n                      value={laporanForm.jenisKegiatan}\r\n                      onChange={handleLaporanChange}\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    >\r\n                      <option value=\"\">Pilih Jenis Kegiatan</option>\r\n                      <option value=\"pkl\">PKL</option>\r\n                      <option value=\"magang\">Magang</option>\r\n                      <option value=\"pelatihan\">Pelatihan</option>\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Asal Peserta / Mitra Kerjasama *\r\n                    </label>\r\n                    <input\r\n                      name=\"asalPeserta\"\r\n                      value={laporanForm.asalPeserta}\r\n                      onChange={handleLaporanChange}\r\n                      placeholder=\"Contoh : Universitas Jember\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Jumlah Peserta *\r\n                    </label>\r\n                    <input\r\n                      name=\"jumlahPeserta\"\r\n                      value={laporanForm.jumlahPeserta}\r\n                      onChange={handleLaporanChange}\r\n                      placeholder=\"Contoh : 1\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Tanggal Pelaksanaan *\r\n                    </label>\r\n                    <input\r\n                      name=\"tanggalPelaksanaan\"\r\n                      value={laporanForm.tanggalPelaksanaan}\r\n                      onChange={handleLaporanChange}\r\n                      type=\"date\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Lama Pelaksanaan *\r\n                    </label>\r\n                    <input\r\n                      name=\"lamaPelaksanaan\"\r\n                      value={laporanForm.lamaPelaksanaan}\r\n                      onChange={handleLaporanChange}\r\n                      placeholder=\"Contoh : 4 Bulan\"\r\n                      className=\"w-full rounded-lg border border-[#E8E2DB] bg-white px-3 py-2 text-[12px] text-[#3B3B3B]\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Upload Foto Kegiatan */}\r\n                  <div>\r\n                    <label className=\"block text-[12px] text-[#3B3B3B] mb-1\">\r\n                      Foto Kegiatan *\r\n                    </label>\r\n                    <div\r\n                      className=\"border border-dashed border-[#E8E2DB] rounded-lg bg-white p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-[#F9F7F5]\"\r\n                      onClick={handlePickFoto}\r\n                    >\r\n                      {fotoKegiatan ? (\r\n                        <div className=\"text-center\">\r\n                          <p className=\"text-[12px] text-[#3B3B3B]\">\r\n                            {fotoKegiatan.name}\r\n                          </p>\r\n                          <p className=\"text-[11px] text-[#6B6B6B] mt-1\">\r\n                            Klik untuk ganti\r\n                          </p>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex flex-col items-center text-center text-[#6B6B6B]\">\r\n                          <Download size={20} />\r\n                          <p className=\"text-[12px] mt-2\">\r\n                            Upload Foto Kegiatan\r\n                          </p>\r\n                          <p className=\"text-[11px] text-[#A0A0A0]\">\r\n                            Format: JPG, PNG (maks. 2MB)\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        ref={fotoInputRef}\r\n                        className=\"hidden\"\r\n                        onChange={handleFotoChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"pt-2 text-right\">\r\n                    <button\r\n                      onClick={handleSubmitLaporan}\r\n                      className=\"inline-flex items-center rounded-lg bg-[#5C3A1E] text-white px-4 py-2 text-[12px] hover:opacity-90\"\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      {laporanSubmitted && (\r\n        <div\r\n          className=\"container mx-auto px-4 max-w-5l mb-6\"\r\n          id=\"sertifikat-section\"\r\n        >\r\n          <div className=\"rounded-xl border border-[#E8E2DB] bg-white p-5 md:p-6\">\r\n            {/* Jika Laporan Ditolak */}\r\n            {laporanSubmitted && laporanDecision === \"ditolak\" && (\r\n              <div className=\"rounded-lg border border-[#F0CFCF] bg-[#FFF6F6] p-4 text-center\">\r\n                <div className=\"mx-auto mb-2 w-10 h-10 rounded-lg border border-[#F0C3C3] bg-[#FBECEC] flex items-center justify-center\">\r\n                  <XCircle className=\"text-[#CD0300]\" />\r\n                </div>\r\n                <p className=\"text-sm font-semibold text-[#CD0300]\">\r\n                  Laporan Ditolak\r\n                </p>\r\n                <p className=\"mt-1 text-[12px] text-[#6B6B6B]\">\r\n                  Silakan perbaiki laporan sesuai catatan verifikator, kemudian\r\n                  kirim ulang.\r\n                </p>\r\n                <div className=\"mt-3\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setLaporanDecision(\"menunggu\" as typeof laporanDecision);\r\n                      scrollToLaporan();\r\n                    }}\r\n                    className=\"inline-flex items-center rounded-lg bg-[#CD0300] text-white px-4 py-2 text-[12px] hover:opacity-90\"\r\n                  >\r\n                    Kembali ke Laporan Akhir\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Jika Laporan Disetujui tapi Sertifikat Belum Selesai */}\r\n            {laporanDecision === \"disetujui\" &&\r\n              sertifikatDecision !== \"selesai\" && (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"mx-auto mb-4 w-16 h-16 rounded-full bg-[#F7F4F0] border border-[#E8E2DB] flex items-center justify-center\">\r\n                    <Award size={32} className=\"text-[#A99F99]\" />\r\n                  </div>\r\n                  <h3 className=\"text-base font-semibold text-[#3B3B3B] mb-2\">\r\n                    Sertifikat Belum Tersedia\r\n                  </h3>\r\n                  <p className=\"text-[12px] text-[#6B6B6B] max-w-md mx-auto\">\r\n                    Sertifikat sedang dalam proses pembuatan. Harap tunggu\r\n                    beberapa saat.\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n            {/* Jika Sertifikat Selesai (Bisa Didownload) */}\r\n            {laporanSubmitted &&\r\n              laporanDecision === \"disetujui\" &&\r\n              sertifikatDecision === \"selesai\" && (\r\n                <div>\r\n                  {sertifikatLoading ? (\r\n                    <div className=\"text-center py-8\">\r\n                      <div className=\"animate-spin mx-auto mb-4 w-12 h-12 border-4 border-primary border-t-transparent rounded-full\"></div>\r\n                      <p className=\"text-[12px] text-[#6B6B6B]\">\r\n                        Memuat sertifikat...\r\n                      </p>\r\n                    </div>\r\n                  ) : sertifikatError ? (\r\n                    <div className=\"text-center py-8\">\r\n                      <div className=\"mx-auto mb-4 w-16 h-16 rounded-full bg-red-50 border border-red-200 flex items-center justify-center\">\r\n                        <XCircle size={32} className=\"text-red-500\" />\r\n                      </div>\r\n                      <h3 className=\"text-base font-semibold text-red-800 mb-2\">\r\n                        Gagal Memuat Sertifikat\r\n                      </h3>\r\n                      <p className=\"text-[12px] text-red-600 max-w-md mx-auto\">\r\n                        {sertifikatError}\r\n                      </p>\r\n                    </div>\r\n                  ) : sertifikatData &&\r\n                    (sertifikatData.file_sertifikat ||\r\n                      sertifikatData.link_sertifikat) ? (\r\n                    <div>\r\n                      {/* Display File if exists */}\r\n                      {sertifikatData.file_sertifikat && (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 items-center mb-6\">\r\n                          <div className=\"relative w-full h-56 md:h-64 rounded-xl overflow-hidden border border-[#E8E2DB] shadow-sm bg-gray-100 flex items-center justify-center\">\r\n                            <iframe\r\n                              src={\r\n                                resolveFileUrl(\r\n                                  sertifikatData.file_sertifikat\r\n                                ) || \"\"\r\n                              }\r\n                              className=\"w-full h-full\"\r\n                              title=\"Preview Sertifikat\"\r\n                            />\r\n                            <div className=\"absolute top-3 left-3 inline-flex items-center gap-1 rounded-full bg-white/90 border border-[#E8E2DB] px-3 py-1 text-[11px] text-[#3B3B3B] shadow-xs\">\r\n                              Sertifikat Preview\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-center\">\r\n                            <div className=\"mx-auto mb-3 w-14 h-14 rounded-full border border-[#CBE6D7] bg-[#E9F7F0] flex items-center justify-center shadow-sm\">\r\n                              <Award size={28} className=\"text-[#2F8A57]\" />\r\n                            </div>\r\n                            <h3 className=\"text-base md:text-lg font-semibold text-[#3B3B3B]\">\r\n                              Selamat, Program Pelatihan Anda telah selesai!\r\n                            </h3>\r\n                            <p className=\"mt-1 text-[12px] text-[#6B6B6B]\">\r\n                              Anda telah menyelesaikan program dan berhak\r\n                              mendapatkan sertifikat resmi dari Sekolah Kopi\r\n                              Raisa.\r\n                            </p>\r\n                            {sertifikatData.created_at && (\r\n                              <p className=\"mt-2 text-[11px] text-[#6B6B6B]\">\r\n                                Tanggal Terbit:{\" \"}\r\n                                {formatDate(sertifikatData.created_at)}\r\n                              </p>\r\n                            )}\r\n\r\n                            <div className=\"mt-4 justify-center flex flex-wrap items-center gap-2\">\r\n                              <button\r\n                                onClick={() =>\r\n                                  openFile(\r\n                                    resolveFileUrl(\r\n                                      sertifikatData.file_sertifikat\r\n                                    )\r\n                                  )\r\n                                }\r\n                                className=\"inline-flex items-center gap-1 rounded-lg border border-[#E8E2DB] px-3 py-2 text-[12px] text-[#3B3B3B] hover:bg-[#F5EFE8]\"\r\n                              >\r\n                                <Eye size={16} /> Preview Sertifikat\r\n                              </button>\r\n                              <button\r\n                                onClick={() =>\r\n                                  downloadFile(\r\n                                    resolveFileUrl(\r\n                                      sertifikatData.file_sertifikat\r\n                                    ),\r\n                                    \"Sertifikat_Pelatihan.pdf\"\r\n                                  )\r\n                                }\r\n                                className=\"inline-flex justify-center items-center gap-1 rounded-lg bg-[#5C3A1E] text-white px-3 py-2 text-[12px] hover:opacity-90\"\r\n                              >\r\n                                <Download size={16} /> Download Sertifikat PDF\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Display Link if exists */}\r\n                      {sertifikatData.link_sertifikat && (\r\n                        <div className=\"rounded-lg border border-[#E3F2FD] bg-[#F0F8FF] p-4\">\r\n                          <div className=\"flex items-center gap-2 mb-2\">\r\n                            <Award size={20} className=\"text-[#1976D2]\" />\r\n                            <p className=\"text-sm font-semibold text-[#1565C0]\">\r\n                              Link Sertifikat Online\r\n                            </p>\r\n                          </div>\r\n                          <p className=\"text-[12px] text-[#424242] mb-3\">\r\n                            Akses sertifikat Anda secara online melalui link\r\n                            berikut:\r\n                          </p>\r\n                          <a\r\n                            href={sertifikatData.link_sertifikat}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"text-sm text-blue-600 hover:text-blue-800 hover:underline break-all block mb-3\"\r\n                          >\r\n                            {sertifikatData.link_sertifikat}\r\n                          </a>\r\n                          <a\r\n                            href={sertifikatData.link_sertifikat}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"inline-flex items-center gap-1 rounded-lg bg-[#1976D2] text-white px-4 py-2 text-[12px] hover:bg-[#1565C0]\"\r\n                          >\r\n                            <Eye size={16} /> Buka Link Sertifikat\r\n                          </a>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8\">\r\n                      <div className=\"mx-auto mb-4 w-16 h-16 rounded-full bg-[#F7F4F0] border border-[#E8E2DB] flex items-center justify-center\">\r\n                        <Award size={32} className=\"text-[#A99F99]\" />\r\n                      </div>\r\n                      <h3 className=\"text-base font-semibold text-[#3B3B3B] mb-2\">\r\n                        Sertifikat Belum Tersedia\r\n                      </h3>\r\n                      <p className=\"text-[12px] text-[#6B6B6B] max-w-md mx-auto\">\r\n                        Sertifikat sedang dalam proses pembuatan. Harap tunggu\r\n                        beberapa saat.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {successOpen && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-lg\">\r\n          <div className=\"bg-white rounded-2xl p-8 md:p-10 max-w-xl w-full shadow-lg relative mx-4 text-center\">\r\n            <button\r\n              onClick={() => setSuccessOpen(false)}\r\n              className=\"absolute top-4 right-4 text-[#A99F99] hover:text-primary text-xl\"\r\n            >\r\n              \r\n            </button>\r\n            <div className=\"mx-auto mb-3 w-12 h-12 rounded-lg border border-[#E8E2DB] bg-[#F7F4F0] flex items-center justify-center\">\r\n              <Check className=\"text-primary\" />\r\n            </div>\r\n            <h2 className=\"text-xl md:text-2xl font-semibold mb-3\">\r\n              Laporan Akhir Terkirim\r\n            </h2>\r\n            <p className=\"text-sm md:text-[15px] text-[#3B3B3B]\">\r\n              Laporan Anda sudah berhasil dikirim. Tim kami akan memverifikasi\r\n              terlebih dahulu sebelum sertifikat tersedia.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}