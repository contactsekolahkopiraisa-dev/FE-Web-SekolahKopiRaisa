{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/IZUNA/Documents/github%204/FE-Web-SekolahKopiRaisa/components/main/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport {\r\n  ChevronRight,\r\n  ChevronDown,\r\n  LogOut,\r\n  Menu,\r\n  Store,\r\n  X,\r\n  List,\r\n  PlusCircle,\r\n  Package,\r\n  Handshake,\r\n  NotepadText,\r\n} from \"lucide-react\";\r\nimport clsx from \"clsx\";\r\nimport { logout } from \"../../app/utils/auth\";\r\nimport { getUser } from \"../../app/utils/user\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport ConfirmModal from \"../ConfirmModal\";\r\n\r\ninterface SidebarItemType {\r\n  icon: React.ReactNode;\r\n  text: string;\r\n  href: string;\r\n}\r\ninterface User {\r\n  name: string;\r\n  image: string;\r\n}\r\n\r\nexport default function Sidebar({ items }: { items: SidebarItemType[] }) {\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [isMobileOpen, setMobileOpen] = useState(false);\r\n  const [isProdukOpen, setProdukOpen] = useState(false);\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n  const handleLogout = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      try {\r\n        const data = await getUser();\r\n        if (data) setUser(data);\r\n      } catch (error) {\r\n        console.error(\"Gagal mendapatkan user:\", error);\r\n      }\r\n    };\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const renderSidebarContent = (isMobile = false) => (\r\n    <div\r\n      className={clsx(\r\n        \"bg-white h-full shadow-lg flex flex-col justify-between duration-300\",\r\n        isMobile ? \"w-64\" : isSidebarOpen ? \"w-50\" : \"w-20\"\r\n      )}\r\n    >\r\n      {/* Header */}\r\n      <div\r\n        className={clsx(\r\n          \"flex items-center px-4 py-4\",\r\n          isSidebarOpen ? \"justify-between\" : \"flex-col gap-3 justify-center\"\r\n        )}\r\n      >\r\n        {/* <button\r\n          onClick={() => router.push(\"/\")}\r\n          className=\"flex items-center gap-2 hover:bg-gray-100 cursor-pointer rounded-sm p-2\"\r\n        > */}\r\n          <Image src=\"/assets/logo.png\" alt=\"Logo\" width={20} height={20} />\r\n        {/* </button> */}\r\n        {isMobile ? (\r\n          <button onClick={() => setMobileOpen(false)}>\r\n            <X />\r\n          </button>\r\n        ) : (\r\n          <div\r\n            className=\"relative w-6 h-6 cursor-pointer\"\r\n            onClick={() => setSidebarOpen(!isSidebarOpen)}\r\n          >\r\n            <Menu\r\n              className={clsx(\r\n                \"absolute transition-all duration-300\",\r\n                isSidebarOpen\r\n                  ? \"opacity-0 scale-90 rotate-45\"\r\n                  : \"opacity-100 scale-100 rotate-0\"\r\n              )}\r\n            />\r\n            <X\r\n              className={clsx(\r\n                \"absolute transition-all duration-300\",\r\n                isSidebarOpen\r\n                  ? \"opacity-100 scale-100 rotate-0\"\r\n                  : \"opacity-0 scale-90 -rotate-45\"\r\n              )}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 px-4 overflow-y-auto\">\r\n        <ul className=\"space-y-3\">\r\n          {items.map((item) => (\r\n            <SidebarItem\r\n              key={item.href}\r\n              icon={item.icon}\r\n              text={item.text}\r\n              href={item.href}\r\n              isActive={pathname === item.href}\r\n              isSidebarOpen={isMobile ? true : isSidebarOpen}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n\r\n      {/* Footer */}\r\n      <div className=\"cursor-pointer px-3 py-3 bg-gray-100 flex items-center justify-between rounded-t-xl\">\r\n        <div\r\n          className=\"flex items-center gap-2\"\r\n          onClick={() => {\r\n            router.push(\"/admin/profile\");\r\n          }}\r\n        >\r\n          <Image\r\n            src={user?.image || \"/assets/avatar.png\"}\r\n            alt=\"avatar\"\r\n            width={35}\r\n            height={35}\r\n            className=\"rounded-full\"\r\n          />\r\n          {(isMobile || isSidebarOpen) && (\r\n            <div>\r\n              <p className=\"text-xs font-medium\">{user?.name}</p>\r\n              <p className=\"text-xs text-gray-500\">Admin</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <LogOut\r\n          size={20}\r\n          className=\"text-gray-700 cursor-pointer\"\r\n          onClick={handleLogout}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {/* Desktop Sidebar */}\r\n      <aside className=\"hidden md:block\">{renderSidebarContent()}</aside>\r\n      {showConfirmModal && (\r\n        <ConfirmModal\r\n          isOpen={showConfirmModal}\r\n          onClose={() => setShowConfirmModal(false)}\r\n          onConfirm={async () => {\r\n            await logout();\r\n            router.replace(\"/login\");\r\n            setShowConfirmModal(false);\r\n          }}\r\n          title=\"Konfirmasi Logout\"\r\n          description=\"Apakah Anda yakin ingin Logout?\"\r\n        />\r\n      )}\r\n\r\n      {/* Mobile Sidebar (overlay) */}\r\n      <div className=\"md:hidden\">\r\n        {/* Hamburger button - only show when sidebar is closed */}\r\n        {!isMobileOpen && (\r\n          <button\r\n            className=\"fixed top-4 left-4 z-50 p-2 bg-white rounded-full shadow-lg\"\r\n            onClick={() => setMobileOpen(true)}\r\n          >\r\n            <Menu />\r\n          </button>\r\n        )}\r\n\r\n        {/* Sidebar overlay */}\r\n        <AnimatePresence>\r\n          {isMobileOpen && (\r\n            <motion.div\r\n              className=\"fixed inset-0 z-40 flex\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n            >\r\n              {/* Overlay */}\r\n              <motion.div\r\n                className=\"absolute inset-0 bg-black\"\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 0.5 }}\r\n                exit={{ opacity: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                onClick={() => setMobileOpen(false)}\r\n              />\r\n\r\n              {/* Sidebar */}\r\n              <motion.div\r\n                initial={{ x: \"-100%\" }}\r\n                animate={{ x: 0 }}\r\n                exit={{ x: \"-100%\" }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"relative z-50 w-64 bg-white h-full shadow-lg\"\r\n              >\r\n                {renderSidebarContent(true)}\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction SidebarItem({\r\n  icon,\r\n  text,\r\n  href,\r\n  isActive,\r\n  isSidebarOpen,\r\n}: {\r\n  icon: React.ReactNode;\r\n  text: string;\r\n  href: string;\r\n  isActive: boolean;\r\n  isSidebarOpen: boolean;\r\n}) {\r\n  return (\r\n    <li>\r\n      <Link href={href}>\r\n        <div\r\n          className={clsx(\r\n            \"flex items-center gap-3 px-3 py-2 rounded-xl transition-all duration-200 cursor-pointer text-sm\",\r\n            isActive\r\n              ? \"bg-primary text-white font-medium shadow-lg\"\r\n              : \"text-gray-700 hover:bg-gray-100 hover:text-gray-900\",\r\n            !isSidebarOpen && \"justify-center\"\r\n          )}\r\n        >\r\n          {icon}\r\n          {isSidebarOpen && <span>{text}</span>}\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}